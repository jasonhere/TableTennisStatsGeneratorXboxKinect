<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>KINECT STATS GENERATOR FOR SPORTS VISUALISATION: KinectInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>KinectInterface Class Reference</h1><!-- doxytag: class="KinectInterface" -->
<p>this class wraps the libfreenect library as a QObject this allows us to use singals and slots to communicate with the class from other Qt GUI elements. This class uses the Singleton pattern so must be accessed via the instance method  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for KinectInterface:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface__coll__graph.png" border="0" usemap="#_kinect_interface_coll__map" alt="Collaboration graph"/></div>
<map name="_kinect_interface_coll__map" id="_kinect_interface_coll__map">
<area shape="rect" id="node3" href="class_q_kinect_process_events.html" title="this is the process event thread class it needs to be a class so we can use the Qt..." alt="" coords="5,5,208,160"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_kinect_interface-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a8bcb263a8baccc017e37764bcbb43c53">setAngle</a> (double _angle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to change the angle of the <a class="el" href="class_kinect.html">Kinect</a>  <a href="#a8bcb263a8baccc017e37764bcbb43c53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#add145b8666b0b72861cc06df0bb47dbb">setLedOff</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to turn off the led  <a href="#add145b8666b0b72861cc06df0bb47dbb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a3e91820cd20f31e943e38af945de689e">setRedLed</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to enable the red LED  <a href="#a3e91820cd20f31e943e38af945de689e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ac30fbf5db6434a4afa79e435b812d212">setGreenLed</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to enable the green LED  <a href="#ac30fbf5db6434a4afa79e435b812d212"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a177a59f3e4f860db0f2286f57884b7a3">setYellowLed</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to enable the yellow LED  <a href="#a177a59f3e4f860db0f2286f57884b7a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aedd6b9e8d3a5a508cc5021edfc608357">setRedLedFlash</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to flash the red led  <a href="#aedd6b9e8d3a5a508cc5021edfc608357"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a524a26cdd4464ba8846e207d6552f977">setGreenLedFlash</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to flash the green led  <a href="#a524a26cdd4464ba8846e207d6552f977"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ab920f30201f47f3fb99fdbcbd1d81217">setYellowLedFlash</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to flash the yellow led  <a href="#ab920f30201f47f3fb99fdbcbd1d81217"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a7120a337446097931e964ed47a4421ce">setVideoMode</a> (int _mode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">slot to set the video mode  <a href="#a7120a337446097931e964ed47a4421ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ae65ee9362b2ed21763de02df1e073770">resetAngle</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reset the tilt angle  <a href="#ae65ee9362b2ed21763de02df1e073770"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a6196d7609dd3de67aaeda6777ce57d23">getDepth</a> (cv::Mat &amp;o_buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">getDepth buffer and convert it to an RGB colour representation this code is based on the sample implementation glview.c / cppview.cpp  <a href="#a6196d7609dd3de67aaeda6777ce57d23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#af6c36c376554c5debbbcdf4f8384e32e">getDepthRaw</a> (cv::Mat &amp;o_buffer, float *o_depthinmBuffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">getDepth buffer as the raw values converted to uint8_t not sure if this will be much use but have used it in some tracking examples  <a href="#af6c36c376554c5debbbcdf4f8384e32e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a24f97f36a57a0f01481a85a57d16ea72">getDepth16Bit</a> (cv::Mat &amp;o_buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">getDepth buffer as the raw 16 Bit values this is useful for generating point cloud renders as we have the full depth range  <a href="#a24f97f36a57a0f01481a85a57d16ea72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a156e7bc1a98606de05c47e13567d71bc">getDepthSliced</a> (cv::Mat &amp;o_buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a812d3a247e41f00345c3e48a73abe048">getRGB</a> (cv::Mat &amp;o_buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get the RGB buffer  <a href="#a812d3a247e41f00345c3e48a73abe048"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0">startDepth</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">start the Depth buffer grabbing subsystem  <a href="#aa6b0220f7d3310199f699a11ad04e1d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a7b73cfc2d221fdfda087fe6ca5c8cd39">stopDepth</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">stop the Depth buffer grabbing subsystem  <a href="#a7b73cfc2d221fdfda087fe6ca5c8cd39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3">startVideo</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">start the Video buffer grabbing subsystem  <a href="#ac175937429aed66eac7a131ba540afb3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a0e2c57289a79b81b85d9e5b58e661e1e">stopVideo</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">stop the Depth buffer grabbing subsystem  <a href="#a0e2c57289a79b81b85d9e5b58e661e1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a9aa2f0af1e2ffdc0f41fd495fc0d4aef">toggleVideoState</a> (bool _mode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience method to toggle the video mode with a bool to indicate mode, useful for connecting to buttons  <a href="#a9aa2f0af1e2ffdc0f41fd495fc0d4aef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aa5ba053afb2c9fcf781e485b825f3d81">toggleDepthState</a> (bool _mode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience method to toggle the depth mode with a bool to indicate mode, useful for connecting to buttons  <a href="#aa5ba053afb2c9fcf781e485b825f3d81"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">freenect_context *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aa4f68cf57fd3a06cba82a892aeeb979d">getContext</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return a pointer to the active device context  <a href="#aa4f68cf57fd3a06cba82a892aeeb979d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a2b6acade3bd4b639b7d32e14d7ea4a62">setThreshold</a> (int _value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a4e219776c4e21cee93dd67f5d821ad5d">setDepthVolumeLower</a> (double _inputLowerDepth)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a84dc4e7c21807ad63bbab4148ccfe0fc">setDepthVolumeHigher</a> (double _inputHigherDepth)</td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a1ee9689c8d8249fe7c58109574e55498">setUserDeviceNumber</a> (int _m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">we can set the user device number here by default it will be 1  <a href="#a1ee9689c8d8249fe7c58109574e55498"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ade531f82baadaeefe01f9c3e37340930">shutDownKinect</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">method to shutdown our device and close  <a href="#ade531f82baadaeefe01f9c3e37340930"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ac331af40aa770490f9bc7ae05a5fc588">getThreshold</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a1fe5982072f3293b1c0cf74dc0328afc">getZValue</a> (int _depthIndex, int _frameIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a35118714e940ee81a1d13d825552bc1a">setBoxObject</a> (int _topX, int _topY, int _width, int _height)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aab50a8cdc60ad80f8ecbd28b1f6af42b">setBoundsDefined</a> (bool _isBoundsDefined)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Rect &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ab9fbbdcce13483657ef3ade7722eaba3">getBoxObject</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a49f91219e04f60c9b75f9d7b8a68360e">toggleTracking</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a69b1c94d734bfe5a28491d2fb6f70534">getTrackingFlag</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a5ca72711b816896860035b9bfe5f51c2">getBounds</a> ()</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_kinect_interface.html">KinectInterface</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7">instance</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get the instance of the <a class="el" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> object this will call the init method of the class if the instance doesn't exist. This is because this class will construct some threads so we need to create an instance first then pass that to the other classes in the thread  <a href="#a13c9a56bd98aaf46329914b7323944c7"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a4e6462987f57c1ff0e3ed4fe3f7cae10">KinectInterface</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">private ctor as we are a singleton class  <a href="#a4e6462987f57c1ff0e3ed4fe3f7cae10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a41d55016ae8ebd23b770d6124c5aea27">~KinectInterface</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">private dtor as we are a singleton class  <a href="#a41d55016ae8ebd23b770d6124c5aea27"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1">init</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">private copy ctor as we are a singleton class  <a href="#a98b9d6c718284304d466c8115d97d0f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a899cee18eb0c60cb33dca8d5ed05c613">depthFunc</a> (freenect_device *_dev, void *o_depth, uint32_t _timestamp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">function for depth callback this hooks into the libfreenect callback system  <a href="#a899cee18eb0c60cb33dca8d5ed05c613"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#af809530c3a165f2c2e1d84959578697c">rgbFunc</a> (freenect_device *_dev, void *o_rgb, uint32_t _timestamp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">function for Video callback this hooks into the libfreenect callback system  <a href="#af809530c3a165f2c2e1d84959578697c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a94998433b4c199f8fc167f7d5abd0262">grabDepth</a> (void *_depth, uint32_t timestamp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">method to grab the depth passed to the depthCallback function as we are hooking into a C lib we need to do it this way as the callback functions must be static (see below)  <a href="#a94998433b4c199f8fc167f7d5abd0262"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a350fab4e013ae9ebba93951e0c0ae097">grabVideo</a> (void *_video, uint32_t timestamp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">method to grab the Video passed to the depthCallback function as we are hooking into a C lib we need to do it this way as the callback functions must be static (see below)  <a href="#a350fab4e013ae9ebba93951e0c0ae097"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84">depthCallback</a> (freenect_device *_dev, void *_depth, uint32_t _timestamp=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">this hooks into the feenet callback system an is the main way of getting the data from the kinect this is not called directly  <a href="#a87b442a4f36e646fd9f0d27509030f84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a">videoCallback</a> (freenect_device *_dev, void *_video, uint32_t _timestamp=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">this hooks into the feenet callback system an is the main way of getting the data from the kinect this is not called directly  <a href="#aa08ef063072d6dd62b72507c87fa689a"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">freenect_context *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a">m_ctx</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the contex for the device  <a href="#aaa1711822e094f956c2e54ef2230a52a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">freenect_device *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036">m_dev</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">our device pointer  <a href="#a96a7824501cb30683fcff98f33916036"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ad6f3dd6f3dc34c44ef0056407d085408">m_userDeviceNumber</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">user device number  <a href="#ad6f3dd6f3dc34c44ef0056407d085408"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Mat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2">m_bufferDepth</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">our depth buffer for the current depth frames will be filled from the depth callback, this data is converted into an RGB representation with Red being closest and blue far away, this is done via a gamma table and converting the depth from 16 bit to 8 bit RGB useful for OpenCV like motion tracking  <a href="#ae31e98852051b1b7fcd47d38173141e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Mat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#af0f9011f62e90ab66b30a30db870e46d">m_bufferVideo</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">our video buffer for the current rgb video frames will be filled from the rgb callback  <a href="#af0f9011f62e90ab66b30a30db870e46d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Mat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a9e8f0cf659f0e5f9e3633fb2b1876ea9">m_nextBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Mat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a1f9d7c8d7ef9e70ece64207267e1af75">m_prevBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Mat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a2011b60401918e552d89b984c642703e">m_diffBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Mat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a0beaae30bca59043cccbcff21bbc8772">m_bufferVideoGray</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Mat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680">m_bufferDepthRaw</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">our depth buffer for the current depth frames will be filled from the depth callback this is the unaltered data converted to 8 bit not really useful so may get rid of at a later date just legacy from testing the other examples  <a href="#af89953fcc5f04b92ba317c2f0a0f6680"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a08a8290bb2f445728df5e5c081e114ab">m_bufferDepthinM</a> [640 *480]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Mat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ad4bce1c22c201eeca611a43f836bedb7">m_bufferDepthRaw16</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the 16Bit raw depth values, this is good for voxel rendering of the data  <a href="#ad4bce1c22c201eeca611a43f836bedb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ab09abb222064475267cc397e027b47bd">m_gamma</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">our gamma table this is filled in the ctor and used in the depth callbacks, this is taken from the sample code glview.c cppview.cpp  <a href="#ab09abb222064475267cc397e027b47bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#af48b4d61f146ffd61f27bf9c21f2dbd2">m_newRgbFrame</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">flag to indicate if there is a new rgb frame  <a href="#af48b4d61f146ffd61f27bf9c21f2dbd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c">m_newDepthFrame</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">flag to indicate if there is a new depth frame  <a href="#ae328c2cb818245881e2e98456872759c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aa436800ae911d7675f374627b44937d8">m_stopDevice</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">flag to indicate if we need to stop the device  <a href="#aa436800ae911d7675f374627b44937d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a1c90cd136731712742411214de8acceb">m_deviceActive</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">flag to indicate if the device is active  <a href="#a1c90cd136731712742411214de8acceb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a3f5c05c31e6b0b58c54bbe9df7b31cd9">m_resolutionRGBBytes</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">size of the RGB buffer for the current mode  <a href="#a3f5c05c31e6b0b58c54bbe9df7b31cd9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a36f10fca244ca8382c2d6bcee9132e7a">m_resolutionDepthBytes</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">size of the depth buffer for the current mode  <a href="#a36f10fca244ca8382c2d6bcee9132e7a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_q_kinect_process_events.html">QKinectProcessEvents</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a05d888f70ececf3d5da5d0520eb2a2ef">m_process</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to our thread process used to process the events  <a href="#a05d888f70ececf3d5da5d0520eb2a2ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QMutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9">m_mutex</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically control our mutex state  <a href="#a02e2504b52eb0e0f94d0a89a884107a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aedd939dc1a2a20fa61fa436c0598790d">m_threshValue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a003069902ab58ac52a8246eb9cb45b86">m_depthLower</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a521eefa3b5b51e2724edaf0df52bb5b4">m_depthHigher</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Rect&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">m_selectedBoxCoords</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a5ace07ec14c58fddf7dbd806cecfdd1e">m_toggleTracking</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#aa2f9c4cb2e1d63b8f5d2b7967e774d51">m_setBounds</a></td></tr>
<tr><td colspan="2"><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_kinect_interface.html">KinectInterface</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73">s_instance</a> = 0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">our instance of the <a class="el" href="class_kinect.html">Kinect</a> device  <a href="#a852d95b98effaf033d99ac1adb016f73"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>this class wraps the libfreenect library as a QObject this allows us to use singals and slots to communicate with the class from other Qt GUI elements. This class uses the Singleton pattern so must be accessed via the instance method </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Jonathan Macey </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>20/12/10 Inital commit </dd></dl>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00113">113</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4e6462987f57c1ff0e3ed4fe3f7cae10"></a><!-- doxytag: member="KinectInterface::KinectInterface" ref="a4e6462987f57c1ff0e3ed4fe3f7cae10" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KinectInterface::KinectInterface </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>private ctor as we are a singleton class </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00096">96</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00348">m_bufferDepthinM</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00096"></a>00096                                  : QObject(0)
<a name="l00097"></a>00097 {
<a name="l00098"></a>00098     <span class="comment">// nothing to see here we just need a valid object pointer the init</span>
<a name="l00099"></a>00099     <span class="comment">// method does all the hard work</span>
<a name="l00100"></a>00100     qDebug()&lt;&lt;<span class="stringliteral">&quot;ctor called \n&quot;</span>;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0 ; i &lt; 640*480 ; ++i)
<a name="l00103"></a>00103     {
<a name="l00104"></a>00104         <a class="code" href="class_kinect_interface.html#a08a8290bb2f445728df5e5c081e114ab">m_bufferDepthinM</a>[i] = 0;
<a name="l00105"></a>00105     }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a41d55016ae8ebd23b770d6124c5aea27"></a><!-- doxytag: member="KinectInterface::~KinectInterface" ref="a41d55016ae8ebd23b770d6124c5aea27" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KinectInterface::~KinectInterface </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>private dtor as we are a singleton class </p>
<p>Destructor ---------------------------------------------------------------------------------------------------------------. </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00064">64</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00313">s_instance</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00065"></a>00065 {
<a name="l00066"></a>00066         <span class="comment">// dtor is not called directly</span>
<a name="l00067"></a>00067         <span class="keywordflow">if</span> (<a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73" title="our instance of the Kinect device">s_instance</a>)
<a name="l00068"></a>00068         {
<a name="l00069"></a>00069                 <span class="keyword">delete</span> <a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73" title="our instance of the Kinect device">s_instance</a>;
<a name="l00070"></a>00070         }
<a name="l00071"></a>00071 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a87b442a4f36e646fd9f0d27509030f84"></a><!-- doxytag: member="KinectInterface::depthCallback" ref="a87b442a4f36e646fd9f0d27509030f84" args="(freenect_device *_dev, void *_depth, uint32_t _timestamp=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void KinectInterface::depthCallback </td>
          <td>(</td>
          <td class="paramtype">freenect_device *&nbsp;</td>
          <td class="paramname"> <em>_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>_depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>_timestamp</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>this hooks into the feenet callback system an is the main way of getting the data from the kinect this is not called directly </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_dev</em>&nbsp;</td><td>this is not used as we use the class m_dev </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_video</em>&nbsp;</td><td>the depth data </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_timestamp</em>&nbsp;</td><td>the timestamp of the operation (not used) </td></tr>
  </table>
  </dd>
</dl>

<p><p>get an instance of our device</p>
<p>then call the grab method to fill the depth buffer and return it </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00461">461</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

<p>References <a class="el" href="_kinect_interface_8cpp_source.html#l00462">grabDepth()</a>, and <a class="el" href="_kinect_interface_8cpp_source.html#l00075">instance()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00466"></a>00466     {
<a name="l00467"></a>00467         Q_UNUSED(_dev);
<a name="l00468"></a>00468 
<a name="l00470"></a>00470         <a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> *kinect=<a class="code" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of...">KinectInterface::instance</a>();
<a name="l00472"></a>00472         kinect-&gt;<a class="code" href="class_kinect_interface.html#a94998433b4c199f8fc167f7d5abd0262" title="method to grab the depth passed to the depthCallback function as we are hooking into...">grabDepth</a>(_depth,_timestamp);
<a name="l00473"></a>00473     }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a87b442a4f36e646fd9f0d27509030f84_cgraph.png" border="0" usemap="#class_kinect_interface_a87b442a4f36e646fd9f0d27509030f84_cgraph_map" alt=""></div>
<map name="class_kinect_interface_a87b442a4f36e646fd9f0d27509030f84_cgraph_map" id="class_kinect_interface_a87b442a4f36e646fd9f0d27509030f84_cgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a94998433b4c199f8fc167f7d5abd0262" title="method to grab the depth passed to the depthCallback function as we are hooking into..." alt="" coords="288,60,499,89"/><area shape="rect" id="node5" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="295,164,492,193"/><area shape="rect" id="node7" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="547,112,707,141"/><area shape="rect" id="node10" href="class_q_kinect_process_events.html#a492cc55fcd53ffc1d4d2e4822c9234dc" title="sets the thread active this will loop the run thread with a while(m_active) setting..." alt="" coords="756,5,1009,35"/><area shape="rect" id="node12" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0" title="start the Depth buffer grabbing subsystem" alt="" coords="775,59,991,88"/><area shape="rect" id="node14" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3" title="start the Video buffer grabbing subsystem" alt="" coords="777,112,988,141"/><area shape="rect" id="node16" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="768,165,997,195"/><area shape="rect" id="node18" href="class_kinect_interface.html#a350fab4e013ae9ebba93951e0c0ae097" title="method to grab the Video passed to the depthCallback function as we are hooking into..." alt="" coords="1059,165,1264,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a87b442a4f36e646fd9f0d27509030f84_icgraph.png" border="0" usemap="#class_kinect_interface_a87b442a4f36e646fd9f0d27509030f84_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a87b442a4f36e646fd9f0d27509030f84_icgraph_map" id="class_kinect_interface_a87b442a4f36e646fd9f0d27509030f84_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="288,297,448,327"/><area shape="rect" id="node5" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="496,245,693,275"/><area shape="rect" id="node7" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="768,5,1029,35"/><area shape="rect" id="node11" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="747,59,1051,88"/><area shape="rect" id="node15" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="741,112,1056,141"/><area shape="rect" id="node17" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="777,165,1020,195"/><area shape="rect" id="node19" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="772,219,1025,248"/><area shape="rect" id="node21" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="777,272,1020,301"/><area shape="rect" id="node23" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="784,325,1013,355"/><area shape="rect" id="node25" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="796,379,1001,408"/><area shape="rect" id="node31" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="784,432,1013,461"/><area shape="rect" id="node9" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="1140,32,1335,61"/><area shape="rect" id="node27" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="1105,352,1369,381"/><area shape="rect" id="node29" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="1124,405,1351,435"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a899cee18eb0c60cb33dca8d5ed05c613"></a><!-- doxytag: member="KinectInterface::depthFunc" ref="a899cee18eb0c60cb33dca8d5ed05c613" args="(freenect_device *_dev, void *o_depth, uint32_t _timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::depthFunc </td>
          <td>(</td>
          <td class="paramtype">freenect_device *&nbsp;</td>
          <td class="paramname"> <em>_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>o_depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>_timestamp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function for depth callback this hooks into the libfreenect callback system </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_dev</em>&nbsp;</td><td>the device we are querying </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>the</em>&nbsp;</td><td>actual depth data returned from the device </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>_timestamp</em>&nbsp;</td><td>the time stamp for the grab (not used at present) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5ca72711b816896860035b9bfe5f51c2"></a><!-- doxytag: member="KinectInterface::getBounds" ref="a5ca72711b816896860035b9bfe5f51c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinectInterface::getBounds </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00661">661</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00405">m_setBounds</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00662"></a>00662 {
<a name="l00663"></a>00663     <span class="keywordflow">return</span> <a class="code" href="class_kinect_interface.html#aa2f9c4cb2e1d63b8f5d2b7967e774d51">m_setBounds</a>;
<a name="l00664"></a>00664 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a5ca72711b816896860035b9bfe5f51c2_icgraph.png" border="0" usemap="#class_kinect_interface_a5ca72711b816896860035b9bfe5f51c2_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a5ca72711b816896860035b9bfe5f51c2_icgraph_map" id="class_kinect_interface_a5ca72711b816896860035b9bfe5f51c2_icgraph">
<area shape="rect" id="node3" href="class_main_window.html#a46f5cca022a5b15f60064574dfbc64ba" title="MainWindow::setTrackingFlag" alt="" coords="275,5,491,35"/><area shape="rect" id="node7" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="268,59,497,88"/><area shape="rect" id="node5" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="547,5,741,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab9fbbdcce13483657ef3ade7722eaba3"></a><!-- doxytag: member="KinectInterface::getBoxObject" ref="ab9fbbdcce13483657ef3ade7722eaba3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Rect &amp; KinectInterface::getBoxObject </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00646">646</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00403">m_selectedBoxCoords</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00647"></a>00647 {
<a name="l00648"></a>00648     <span class="keywordflow">return</span> <a class="code" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">m_selectedBoxCoords</a>;
<a name="l00649"></a>00649 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_ab9fbbdcce13483657ef3ade7722eaba3_icgraph.png" border="0" usemap="#class_kinect_interface_ab9fbbdcce13483657ef3ade7722eaba3_icgraph_map" alt=""></div>
<map name="class_kinect_interface_ab9fbbdcce13483657ef3ade7722eaba3_icgraph_map" id="class_kinect_interface_ab9fbbdcce13483657ef3ade7722eaba3_icgraph">
<area shape="rect" id="node3" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="292,5,535,35"/><area shape="rect" id="node5" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="299,59,528,88"/><area shape="rect" id="node7" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="311,112,516,141"/><area shape="rect" id="node9" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="585,85,849,115"/><area shape="rect" id="node11" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="604,139,831,168"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4f68cf57fd3a06cba82a892aeeb979d"></a><!-- doxytag: member="KinectInterface::getContext" ref="aa4f68cf57fd3a06cba82a892aeeb979d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">freenect_context* KinectInterface::getContext </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return a pointer to the active device context </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the current active contects </dd></dl>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00280">280</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00317">m_ctx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00280"></a>00280 {<span class="keywordflow">return</span> <a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6196d7609dd3de67aaeda6777ce57d23"></a><!-- doxytag: member="KinectInterface::getDepth" ref="a6196d7609dd3de67aaeda6777ce57d23" args="(cv::Mat &amp;o_buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinectInterface::getDepth </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&nbsp;</td>
          <td class="paramname"> <em>o_buffer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>getDepth buffer and convert it to an RGB colour representation this code is based on the sample implementation glview.c / cppview.cpp </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>o_buffer</em>&nbsp;</td><td>the buffer to fill </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00379">379</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00334">m_bufferDepth</a>, <a class="el" href="_kinect_interface_8h_source.html#l00396">m_mutex</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00369">m_newDepthFrame</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00382"></a>00382 {
<a name="l00383"></a>00383     <span class="comment">// this fills the depth buffer, first lock our mutex</span>
<a name="l00384"></a>00384     QMutexLocker locker( &amp;<a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9" title="our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically...">m_mutex</a> );
<a name="l00385"></a>00385     <span class="keywordflow">if</span>(<a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a>)
<a name="l00386"></a>00386     {
<a name="l00387"></a>00387         <span class="comment">// swap data</span>
<a name="l00388"></a>00388         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.copyTo(o_buffer);
<a name="l00389"></a>00389 
<a name="l00390"></a>00390         <a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a> = <span class="keyword">false</span>;
<a name="l00391"></a>00391         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00392"></a>00392     }
<a name="l00393"></a>00393     <span class="keywordflow">else</span>
<a name="l00394"></a>00394     {
<a name="l00395"></a>00395         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00396"></a>00396     }
<a name="l00397"></a>00397 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a24f97f36a57a0f01481a85a57d16ea72"></a><!-- doxytag: member="KinectInterface::getDepth16Bit" ref="a24f97f36a57a0f01481a85a57d16ea72" args="(cv::Mat &amp;o_buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinectInterface::getDepth16Bit </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&nbsp;</td>
          <td class="paramname"> <em>o_buffer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>getDepth buffer as the raw 16 Bit values this is useful for generating point cloud renders as we have the full depth range </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>o_buffer</em>&nbsp;</td><td>the buffer to fill </td></tr>
  </table>
  </dd>
</dl>

<p><p>fill the 16 Bit data value first lock mutex </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00399">399</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00355">m_bufferDepthRaw16</a>, <a class="el" href="_kinect_interface_8h_source.html#l00396">m_mutex</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00369">m_newDepthFrame</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00402"></a>00402 {
<a name="l00404"></a>00404     QMutexLocker locker( &amp;<a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9" title="our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically...">m_mutex</a> );
<a name="l00405"></a>00405     <span class="keywordflow">if</span>(<a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a>)
<a name="l00406"></a>00406     {
<a name="l00407"></a>00407         <span class="comment">// fill our buffer if avaliable</span>
<a name="l00408"></a>00408         <a class="code" href="class_kinect_interface.html#ad4bce1c22c201eeca611a43f836bedb7" title="the 16Bit raw depth values, this is good for voxel rendering of the data">m_bufferDepthRaw16</a>.copyTo(o_buffer);
<a name="l00409"></a>00409         <a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a> = <span class="keyword">false</span>;
<a name="l00410"></a>00410         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00411"></a>00411     }
<a name="l00412"></a>00412     <span class="keywordflow">else</span>
<a name="l00413"></a>00413     {
<a name="l00414"></a>00414         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00415"></a>00415     }
<a name="l00416"></a>00416 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af6c36c376554c5debbbcdf4f8384e32e"></a><!-- doxytag: member="KinectInterface::getDepthRaw" ref="af6c36c376554c5debbbcdf4f8384e32e" args="(cv::Mat &amp;o_buffer, float *o_depthinmBuffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinectInterface::getDepthRaw </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&nbsp;</td>
          <td class="paramname"> <em>o_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>o_depthinmBuffer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>getDepth buffer as the raw values converted to uint8_t not sure if this will be much use but have used it in some tracking examples </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>o_buffer</em>&nbsp;</td><td>the buffer to fill </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00440">440</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00348">m_bufferDepthinM</a>, <a class="el" href="_kinect_interface_8h_source.html#l00346">m_bufferDepthRaw</a>, <a class="el" href="_kinect_interface_8h_source.html#l00396">m_mutex</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00369">m_newDepthFrame</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00441"></a>00441 {
<a name="l00442"></a>00442 
<a name="l00443"></a>00443 
<a name="l00444"></a>00444     QMutexLocker locker( &amp;<a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9" title="our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically...">m_mutex</a> );
<a name="l00445"></a>00445     <span class="keywordflow">if</span>(<a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a>)
<a name="l00446"></a>00446     {
<a name="l00447"></a>00447 
<a name="l00448"></a>00448         <a class="code" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepthRaw</a>.copyTo(o_buffer);
<a name="l00449"></a>00449         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0 ; i &lt; 640*480 ; ++i)
<a name="l00450"></a>00450         {
<a name="l00451"></a>00451             o_depthinmBuffer[i] = <a class="code" href="class_kinect_interface.html#a08a8290bb2f445728df5e5c081e114ab">m_bufferDepthinM</a>[i];
<a name="l00452"></a>00452         }
<a name="l00453"></a>00453         <a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a> = <span class="keyword">false</span>;
<a name="l00454"></a>00454         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00455"></a>00455     }
<a name="l00456"></a>00456     <span class="keywordflow">else</span>
<a name="l00457"></a>00457     {
<a name="l00458"></a>00458         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00459"></a>00459     }
<a name="l00460"></a>00460 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_af6c36c376554c5debbbcdf4f8384e32e_icgraph.png" border="0" usemap="#class_kinect_interface_af6c36c376554c5debbbcdf4f8384e32e_icgraph_map" alt=""></div>
<map name="class_kinect_interface_af6c36c376554c5debbbcdf4f8384e32e_icgraph_map" id="class_kinect_interface_af6c36c376554c5debbbcdf4f8384e32e_icgraph">
<area shape="rect" id="node3" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="289,5,532,35"/><area shape="rect" id="node5" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="308,59,513,88"/><area shape="rect" id="node7" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="583,32,847,61"/><area shape="rect" id="node9" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="601,85,828,115"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a156e7bc1a98606de05c47e13567d71bc"></a><!-- doxytag: member="KinectInterface::getDepthSliced" ref="a156e7bc1a98606de05c47e13567d71bc" args="(cv::Mat &amp;o_buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinectInterface::getDepthSliced </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&nbsp;</td>
          <td class="paramname"> <em>o_buffer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>fill the 16 Bit data value first lock mutex </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00420">420</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00346">m_bufferDepthRaw</a>, <a class="el" href="_kinect_interface_8h_source.html#l00396">m_mutex</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00369">m_newDepthFrame</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00423"></a>00423 {
<a name="l00425"></a>00425     QMutexLocker locker( &amp;<a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9" title="our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically...">m_mutex</a> );
<a name="l00426"></a>00426     <span class="keywordflow">if</span>(<a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a>)
<a name="l00427"></a>00427     {
<a name="l00428"></a>00428         <span class="comment">// fill our buffer if avaliable</span>
<a name="l00429"></a>00429         <a class="code" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepthRaw</a>.copyTo(o_buffer);
<a name="l00430"></a>00430         <a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a> = <span class="keyword">false</span>;
<a name="l00431"></a>00431         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00432"></a>00432     }
<a name="l00433"></a>00433     <span class="keywordflow">else</span>
<a name="l00434"></a>00434     {
<a name="l00435"></a>00435         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00436"></a>00436     }
<a name="l00437"></a>00437 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a156e7bc1a98606de05c47e13567d71bc_icgraph.png" border="0" usemap="#class_kinect_interface_a156e7bc1a98606de05c47e13567d71bc_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a156e7bc1a98606de05c47e13567d71bc_icgraph_map" id="class_kinect_interface_a156e7bc1a98606de05c47e13567d71bc_icgraph">
<area shape="rect" id="node3" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="300,5,553,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a812d3a247e41f00345c3e48a73abe048"></a><!-- doxytag: member="KinectInterface::getRGB" ref="a812d3a247e41f00345c3e48a73abe048" args="(cv::Mat &amp;o_buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinectInterface::getRGB </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&nbsp;</td>
          <td class="paramname"> <em>o_buffer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>get the RGB buffer </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>o_buffer</em>&nbsp;</td><td>the rgb values </td></tr>
  </table>
  </dd>
</dl>

<p><p>this grabs the rgb data we first need to lock our mutex this will be unlocked on destruction of the locker </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00335">335</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00339">m_bufferVideo</a>, <a class="el" href="_kinect_interface_8h_source.html#l00396">m_mutex</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00365">m_newRgbFrame</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00336"></a>00336 {
<a name="l00337"></a>00337 
<a name="l00338"></a>00338     <span class="comment">//static int _frameCount = 1;</span>
<a name="l00341"></a>00341 <span class="comment"></span>    QMutexLocker locker( &amp;<a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9" title="our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically...">m_mutex</a> );
<a name="l00342"></a>00342     <span class="comment">// do we have a new frame?</span>
<a name="l00343"></a>00343     <span class="keywordflow">if</span>(<a class="code" href="class_kinect_interface.html#af48b4d61f146ffd61f27bf9c21f2dbd2" title="flag to indicate if there is a new rgb frame">m_newRgbFrame</a>)
<a name="l00344"></a>00344     {
<a name="l00345"></a>00345 
<a name="l00346"></a>00346         <span class="comment">//cv::GaussianBlur(m_bufferVideo,m_bufferVideo,cv::Size(3,3),0.3);</span>
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 <span class="comment">//        cv::cvtColor( m_bufferVideo, m_bufferVideoGray, CV_BGR2GRAY );</span>
<a name="l00349"></a>00349 
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 <span class="comment">//        // if so swap out and fill</span>
<a name="l00352"></a>00352 <span class="comment">//        if(_frameCount == 1)</span>
<a name="l00353"></a>00353 <span class="comment">//        {</span>
<a name="l00354"></a>00354 <span class="comment">//            m_bufferVideoGray.copyTo(m_prevBuffer);</span>
<a name="l00355"></a>00355 <span class="comment">//            //m_bufferVideo.copyTo(m_newBuffer);</span>
<a name="l00356"></a>00356 <span class="comment">//        }</span>
<a name="l00357"></a>00357 
<a name="l00358"></a>00358 <span class="comment">//        m_bufferVideoGray.copyTo(m_nextBuffer);</span>
<a name="l00359"></a>00359 <span class="comment">//        cv::absdiff(m_nextBuffer,m_prevBuffer,m_diffBuffer); // has gpu variant</span>
<a name="l00360"></a>00360 <span class="comment">//        //m_diffBuffer.copyTo(m_nextBuffer - m_prevBuffer); // use cv function</span>
<a name="l00361"></a>00361 <span class="comment">//        m_nextBuffer.copyTo(m_prevBuffer);</span>
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 <span class="comment">//        m_diffBuffer.copyTo(o_buffer);</span>
<a name="l00364"></a>00364 
<a name="l00365"></a>00365 <span class="comment">//        _frameCount++;</span>
<a name="l00366"></a>00366 
<a name="l00367"></a>00367         <a class="code" href="class_kinect_interface.html#af0f9011f62e90ab66b30a30db870e46d" title="our video buffer for the current rgb video frames will be filled from the rgb callback...">m_bufferVideo</a>.copyTo(o_buffer);
<a name="l00368"></a>00368         <a class="code" href="class_kinect_interface.html#af48b4d61f146ffd61f27bf9c21f2dbd2" title="flag to indicate if there is a new rgb frame">m_newRgbFrame</a> = <span class="keyword">false</span>;
<a name="l00369"></a>00369         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00370"></a>00370     }
<a name="l00371"></a>00371     <span class="keywordflow">else</span>
<a name="l00372"></a>00372     {
<a name="l00373"></a>00373     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00374"></a>00374     }
<a name="l00375"></a>00375 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a812d3a247e41f00345c3e48a73abe048_icgraph.png" border="0" usemap="#class_kinect_interface_a812d3a247e41f00345c3e48a73abe048_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a812d3a247e41f00345c3e48a73abe048_icgraph_map" id="class_kinect_interface_a812d3a247e41f00345c3e48a73abe048_icgraph">
<area shape="rect" id="node3" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="249,5,492,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac331af40aa770490f9bc7ae05a5fc588"></a><!-- doxytag: member="KinectInterface::getThreshold" ref="ac331af40aa770490f9bc7ae05a5fc588" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KinectInterface::getThreshold </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00613">613</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00399">m_threshValue</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00614"></a>00614 {
<a name="l00615"></a>00615 
<a name="l00616"></a>00616    <span class="keywordflow">return</span> <a class="code" href="class_kinect_interface.html#aedd939dc1a2a20fa61fa436c0598790d">m_threshValue</a>;
<a name="l00617"></a>00617 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a69b1c94d734bfe5a28491d2fb6f70534"></a><!-- doxytag: member="KinectInterface::getTrackingFlag" ref="a69b1c94d734bfe5a28491d2fb6f70534" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinectInterface::getTrackingFlag </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00656">656</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00405">m_toggleTracking</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00657"></a>00657 {
<a name="l00658"></a>00658     <span class="keywordflow">return</span> <a class="code" href="class_kinect_interface.html#a5ace07ec14c58fddf7dbd806cecfdd1e">m_toggleTracking</a>;
<a name="l00659"></a>00659 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a69b1c94d734bfe5a28491d2fb6f70534_icgraph.png" border="0" usemap="#class_kinect_interface_a69b1c94d734bfe5a28491d2fb6f70534_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a69b1c94d734bfe5a28491d2fb6f70534_icgraph_map" id="class_kinect_interface_a69b1c94d734bfe5a28491d2fb6f70534_icgraph">
<area shape="rect" id="node3" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="297,5,540,35"/><area shape="rect" id="node5" href="class_main_window.html#a46f5cca022a5b15f60064574dfbc64ba" title="MainWindow::setTrackingFlag" alt="" coords="311,59,527,88"/><area shape="rect" id="node9" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="316,112,521,141"/><area shape="rect" id="node7" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="625,59,820,88"/><area shape="rect" id="node11" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="591,112,855,141"/><area shape="rect" id="node13" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="609,165,836,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1fe5982072f3293b1c0cf74dc0328afc"></a><!-- doxytag: member="KinectInterface::getZValue" ref="a1fe5982072f3293b1c0cf74dc0328afc" args="(int _depthIndex, int _frameIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float KinectInterface::getZValue </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_depthIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_frameIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00619">619</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00620"></a>00620 {
<a name="l00621"></a>00621     <span class="comment">//QMutexLocker locker( &amp;m_mutex );</span>
<a name="l00622"></a>00622     <span class="comment">//return m_originalFrameDepth[_frameIndex].data[_depthIndex];</span>
<a name="l00623"></a>00623 
<a name="l00624"></a>00624 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a94998433b4c199f8fc167f7d5abd0262"></a><!-- doxytag: member="KinectInterface::grabDepth" ref="a94998433b4c199f8fc167f7d5abd0262" args="(void *_depth, uint32_t timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::grabDepth </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>_depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>timestamp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>method to grab the depth passed to the depthCallback function as we are hooking into a C lib we need to do it this way as the callback functions must be static (see below) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_depth</em>&nbsp;</td><td>the depth data </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_timestamp</em>&nbsp;</td><td>the timestamp of the operation (not used) </td></tr>
  </table>
  </dd>
</dl>

<p><p>lock our mutex </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00462">462</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00334">m_bufferDepth</a>, <a class="el" href="_kinect_interface_8h_source.html#l00348">m_bufferDepthinM</a>, <a class="el" href="_kinect_interface_8h_source.html#l00346">m_bufferDepthRaw</a>, <a class="el" href="_kinect_interface_8h_source.html#l00355">m_bufferDepthRaw16</a>, <a class="el" href="_kinect_interface_8h_source.html#l00401">m_depthHigher</a>, <a class="el" href="_kinect_interface_8h_source.html#l00401">m_depthLower</a>, <a class="el" href="_kinect_interface_8h_source.html#l00361">m_gamma</a>, <a class="el" href="_kinect_interface_8h_source.html#l00396">m_mutex</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00369">m_newDepthFrame</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00466"></a>00466 {
<a name="l00467"></a>00467 <span class="comment">// this method fills all the different depth buffers at once</span>
<a name="l00468"></a>00468 <span class="comment">// modifed from the sample code glview and cppview.cpp</span>
<a name="l00470"></a>00470 <span class="comment"></span>QMutexLocker locker( &amp;<a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9" title="our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically...">m_mutex</a> );
<a name="l00471"></a>00471 <span class="comment">// cast the void pointer to the unint16_t the data is actually in</span>
<a name="l00472"></a>00472 uint16_t* depth = <span class="keyword">static_cast&lt;</span>uint16_t*<span class="keyword">&gt;</span>(_depth);
<a name="l00473"></a>00473 
<a name="l00474"></a>00474 
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 <span class="comment">// now loop and fill data buffers</span>
<a name="l00477"></a>00477 <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0 ; i &lt; 640*480 ; ++i)
<a name="l00478"></a>00478 {
<a name="l00479"></a>00479     <span class="comment">// first our two raw buffers the first will lose precision and may well</span>
<a name="l00480"></a>00480     <span class="comment">// be removed in the next iterations</span>
<a name="l00481"></a>00481 
<a name="l00482"></a>00482     <span class="comment">// now get the index into the gamma table</span>
<a name="l00483"></a>00483     <span class="keywordtype">float</span> pval = <a class="code" href="class_kinect_interface.html#ab09abb222064475267cc397e027b47bd" title="our gamma table this is filled in the ctor and used in the depth callbacks, this...">m_gamma</a>[depth[i]]; <span class="comment">// my notes: so pval is in metres now..using cam caliberation values, we have converted depth values to metres</span>
<a name="l00484"></a>00484                                     <span class="comment">// using open kinect forum formulae this (i,j,z) value can be transformed to (x,y,z)</span>
<a name="l00485"></a>00485 
<a name="l00486"></a>00486 
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 
<a name="l00489"></a>00489 
<a name="l00490"></a>00490     <span class="comment">//m_bufferDepthinM.data[i] = m_gamma[depth[i]];</span>
<a name="l00491"></a>00491 
<a name="l00492"></a>00492     <span class="comment">//m_originalFrameDepth1[_frameCountGrab] = m_gamma[depth[i]];</span>
<a name="l00493"></a>00493 
<a name="l00494"></a>00494 
<a name="l00495"></a>00495     <span class="comment">//std::cout&lt;&lt;&quot;pval is&quot;&lt;&lt;pval&lt;&lt;&quot;\n&quot;;</span>
<a name="l00496"></a>00496 
<a name="l00497"></a>00497     <span class="comment">// a bounded volume as explained in rally keeper project to detect contours</span>
<a name="l00498"></a>00498     <span class="keywordflow">if</span> (pval &gt;= <a class="code" href="class_kinect_interface.html#a003069902ab58ac52a8246eb9cb45b86">m_depthLower</a> &amp;&amp; pval &lt;= <a class="code" href="class_kinect_interface.html#a521eefa3b5b51e2724edaf0df52bb5b4">m_depthHigher</a>)
<a name="l00499"></a>00499     {
<a name="l00500"></a>00500         <a class="code" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepthRaw</a>.data[i]=255;
<a name="l00501"></a>00501         <a class="code" href="class_kinect_interface.html#ad4bce1c22c201eeca611a43f836bedb7" title="the 16Bit raw depth values, this is good for voxel rendering of the data">m_bufferDepthRaw16</a>.data[i]=255;
<a name="l00502"></a>00502         <a class="code" href="class_kinect_interface.html#a08a8290bb2f445728df5e5c081e114ab">m_bufferDepthinM</a>[i] = depth[i];
<a name="l00503"></a>00503     }
<a name="l00504"></a>00504     <span class="keywordflow">else</span>
<a name="l00505"></a>00505     {
<a name="l00506"></a>00506         <a class="code" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepthRaw</a>.data[i]=0;
<a name="l00507"></a>00507         <a class="code" href="class_kinect_interface.html#ad4bce1c22c201eeca611a43f836bedb7" title="the 16Bit raw depth values, this is good for voxel rendering of the data">m_bufferDepthRaw16</a>.data[i]=0;
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509     <span class="keywordflow">if</span> (pval &lt;= 0.9)
<a name="l00510"></a>00510     {
<a name="l00511"></a>00511         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+0] = 255;
<a name="l00512"></a>00512         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+1] = 0;
<a name="l00513"></a>00513         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+2] = 0;
<a name="l00514"></a>00514 
<a name="l00515"></a>00515     }
<a name="l00516"></a>00516     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pval &gt; 0.9 &amp;&amp; pval &lt;= 2)
<a name="l00517"></a>00517     {
<a name="l00518"></a>00518         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+0] = 0;
<a name="l00519"></a>00519         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+1] = 255;
<a name="l00520"></a>00520         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+2] = 0;
<a name="l00521"></a>00521 
<a name="l00522"></a>00522     }
<a name="l00523"></a>00523     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pval &gt; 2)
<a name="l00524"></a>00524     {
<a name="l00525"></a>00525         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+0] = 0;
<a name="l00526"></a>00526         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+1] = 0;
<a name="l00527"></a>00527         <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>.data[3*i+2] = 255;
<a name="l00528"></a>00528 
<a name="l00529"></a>00529     }
<a name="l00530"></a>00530 }
<a name="l00531"></a>00531 <span class="comment">// flag we have a new frame</span>
<a name="l00532"></a>00532 <a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a> = <span class="keyword">true</span>;
<a name="l00533"></a>00533 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a94998433b4c199f8fc167f7d5abd0262_icgraph.png" border="0" usemap="#class_kinect_interface_a94998433b4c199f8fc167f7d5abd0262_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a94998433b4c199f8fc167f7d5abd0262_icgraph_map" id="class_kinect_interface_a94998433b4c199f8fc167f7d5abd0262_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="264,272,499,301"/><area shape="rect" id="node5" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="547,297,707,327"/><area shape="rect" id="node7" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="755,245,952,275"/><area shape="rect" id="node9" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="1027,5,1288,35"/><area shape="rect" id="node13" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="1005,59,1309,88"/><area shape="rect" id="node17" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="1000,112,1315,141"/><area shape="rect" id="node19" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="1036,165,1279,195"/><area shape="rect" id="node21" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="1031,219,1284,248"/><area shape="rect" id="node23" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="1036,272,1279,301"/><area shape="rect" id="node25" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="1043,325,1272,355"/><area shape="rect" id="node27" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="1055,379,1260,408"/><area shape="rect" id="node33" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="1043,432,1272,461"/><area shape="rect" id="node11" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="1399,32,1593,61"/><area shape="rect" id="node29" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="1364,352,1628,381"/><area shape="rect" id="node31" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="1383,405,1609,435"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a350fab4e013ae9ebba93951e0c0ae097"></a><!-- doxytag: member="KinectInterface::grabVideo" ref="a350fab4e013ae9ebba93951e0c0ae097" args="(void *_video, uint32_t timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::grabVideo </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>_video</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>timestamp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>method to grab the Video passed to the depthCallback function as we are hooking into a C lib we need to do it this way as the callback functions must be static (see below) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_video</em>&nbsp;</td><td>the depth data </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_timestamp</em>&nbsp;</td><td>the timestamp of the operation (not used) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00535">535</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00339">m_bufferVideo</a>, <a class="el" href="_kinect_interface_8h_source.html#l00396">m_mutex</a>, <a class="el" href="_kinect_interface_8h_source.html#l00365">m_newRgbFrame</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00382">m_resolutionRGBBytes</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00539"></a>00539 {
<a name="l00540"></a>00540     <span class="comment">// lock our mutex and copy the data from the video buffer</span>
<a name="l00541"></a>00541     QMutexLocker locker( &amp;<a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9" title="our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically...">m_mutex</a> );
<a name="l00542"></a>00542     uint8_t* rgb = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(_video);
<a name="l00543"></a>00543     <span class="comment">//std::copy(rgb, rgb+m_resolutionRGBBytes, m_bufferVideo.begin());</span>
<a name="l00544"></a>00544     memcpy(  <a class="code" href="class_kinect_interface.html#af0f9011f62e90ab66b30a30db870e46d" title="our video buffer for the current rgb video frames will be filled from the rgb callback...">m_bufferVideo</a>.data , rgb, <a class="code" href="class_kinect_interface.html#a3f5c05c31e6b0b58c54bbe9df7b31cd9" title="size of the RGB buffer for the current mode">m_resolutionRGBBytes</a>);
<a name="l00545"></a>00545 
<a name="l00546"></a>00546     <a class="code" href="class_kinect_interface.html#af48b4d61f146ffd61f27bf9c21f2dbd2" title="flag to indicate if there is a new rgb frame">m_newRgbFrame</a> = <span class="keyword">true</span>;
<a name="l00547"></a>00547 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a350fab4e013ae9ebba93951e0c0ae097_icgraph.png" border="0" usemap="#class_kinect_interface_a350fab4e013ae9ebba93951e0c0ae097_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a350fab4e013ae9ebba93951e0c0ae097_icgraph_map" id="class_kinect_interface_a350fab4e013ae9ebba93951e0c0ae097_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="260,167,489,196"/><area shape="rect" id="node5" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="539,140,699,169"/><area shape="rect" id="node7" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="747,192,944,221"/><area shape="rect" id="node9" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="1019,59,1280,88"/><area shape="rect" id="node13" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="997,112,1301,141"/><area shape="rect" id="node16" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="1032,5,1267,35"/><area shape="rect" id="node19" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="992,165,1307,195"/><area shape="rect" id="node21" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="1028,219,1271,248"/><area shape="rect" id="node23" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="1023,272,1276,301"/><area shape="rect" id="node25" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="1028,325,1271,355"/><area shape="rect" id="node27" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="1035,379,1264,408"/><area shape="rect" id="node29" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="1047,432,1252,461"/><area shape="rect" id="node11" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="1391,85,1585,115"/><area shape="rect" id="node31" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="1356,405,1620,435"/><area shape="rect" id="node33" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="1375,459,1601,488"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a98b9d6c718284304d466c8115d97d0f1"></a><!-- doxytag: member="KinectInterface::init" ref="a98b9d6c718284304d466c8115d97d0f1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KinectInterface::init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>private copy ctor as we are a singleton class </p>
<p>private init method, this makes the instance method thread safe as all the initialisations will be done here </p>

<p><p>set loggin level make this programmable at some stage</p>
<p>see how many devices we have</p>
<p>now allocate the buffers so we can fill them</p>
<p>open the device at present hard coded to device 0 as I only have 1 kinect </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>make this support multiple devices at some stage </dd></dl>
<p>build the gamma table used for the depth to rgb conversion taken from the demo programs</p>
<p>init our flags</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>make this more flexible at some stage </dd></dl>
<p>hook in the callbacks </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00112">112</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00461">depthCallback()</a>, <a class="el" href="_kinect_interface_8h_source.html#l00334">m_bufferDepth</a>, <a class="el" href="_kinect_interface_8h_source.html#l00346">m_bufferDepthRaw</a>, <a class="el" href="_kinect_interface_8h_source.html#l00355">m_bufferDepthRaw16</a>, <a class="el" href="_kinect_interface_8h_source.html#l00339">m_bufferVideo</a>, <a class="el" href="_kinect_interface_8h_source.html#l00317">m_ctx</a>, <a class="el" href="_kinect_interface_8h_source.html#l00401">m_depthHigher</a>, <a class="el" href="_kinect_interface_8h_source.html#l00401">m_depthLower</a>, <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>, <a class="el" href="_kinect_interface_8h_source.html#l00377">m_deviceActive</a>, <a class="el" href="_kinect_interface_8h_source.html#l00361">m_gamma</a>, <a class="el" href="_kinect_interface_8h_source.html#l00369">m_newDepthFrame</a>, <a class="el" href="_kinect_interface_8h_source.html#l00365">m_newRgbFrame</a>, <a class="el" href="_kinect_interface_8h_source.html#l00391">m_process</a>, <a class="el" href="_kinect_interface_8h_source.html#l00386">m_resolutionDepthBytes</a>, <a class="el" href="_kinect_interface_8h_source.html#l00382">m_resolutionRGBBytes</a>, <a class="el" href="_kinect_interface_8h_source.html#l00403">m_selectedBoxCoords</a>, <a class="el" href="_kinect_interface_8h_source.html#l00405">m_setBounds</a>, <a class="el" href="_kinect_interface_8h_source.html#l00399">m_threshValue</a>, <a class="el" href="_kinect_interface_8h_source.html#l00405">m_toggleTracking</a>, <a class="el" href="_kinect_interface_8h_source.html#l00325">m_userDeviceNumber</a>, <a class="el" href="_kinect_interface_8h_source.html#l00068">QKinectProcessEvents::setActive()</a>, <a class="el" href="_kinect_interface_8cpp_source.html#l00566">startDepth()</a>, <a class="el" href="_kinect_interface_8cpp_source.html#l00550">startVideo()</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00482">videoCallback()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00113"></a>00113 {
<a name="l00114"></a>00114     <span class="comment">// first see if we can init the kinect</span>
<a name="l00115"></a>00115     <span class="keywordflow">if</span> (freenect_init(&amp;<a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>, NULL) &lt; 0)
<a name="l00116"></a>00116     {
<a name="l00117"></a>00117         qDebug()&lt;&lt;<span class="stringliteral">&quot;freenect_init() failed\n&quot;</span>;
<a name="l00118"></a>00118         exit(EXIT_FAILURE);
<a name="l00119"></a>00119     }
<a name="l00121"></a>00121     freenect_set_log_level(<a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>, FREENECT_LOG_DEBUG);
<a name="l00123"></a>00123     <span class="keywordtype">int</span> nr_devices = freenect_num_devices (<a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>);
<a name="l00124"></a>00124     qDebug()&lt;&lt;<span class="stringliteral">&quot;Number of devices found: &quot;</span>&lt;&lt;nr_devices&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126     <span class="keywordflow">if</span>(nr_devices &lt; 1)
<a name="l00127"></a>00127     {
<a name="l00128"></a>00128         <span class="comment">//delete s_instance;</span>
<a name="l00129"></a>00129         <span class="comment">//s_instance = 0;</span>
<a name="l00130"></a>00130         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00131"></a>00131     }
<a name="l00133"></a>00133     <a class="code" href="class_kinect_interface.html#ad6f3dd6f3dc34c44ef0056407d085408" title="user device number">m_userDeviceNumber</a> = 0;
<a name="l00134"></a>00134     <span class="comment">// grab the buffer size and store for later use</span>
<a name="l00135"></a>00135     <a class="code" href="class_kinect_interface.html#a3f5c05c31e6b0b58c54bbe9df7b31cd9" title="size of the RGB buffer for the current mode">m_resolutionRGBBytes</a>=freenect_find_video_mode(FREENECT_RESOLUTION_MEDIUM,FREENECT_VIDEO_RGB).bytes;
<a name="l00136"></a>00136     <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>=cvCreateMat(480,640,CV_8UC3);
<a name="l00137"></a>00137 
<a name="l00138"></a>00138     <span class="comment">//m_bufferVideo.resize(m_resolutionRGBBytes);</span>
<a name="l00139"></a>00139 
<a name="l00140"></a>00140     <a class="code" href="class_kinect_interface.html#af0f9011f62e90ab66b30a30db870e46d" title="our video buffer for the current rgb video frames will be filled from the rgb callback...">m_bufferVideo</a> = cvCreateMat(480,640,CV_8UC3);
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="comment">//    m_nextBuffer = cvCreateMat(480,640,CV_8UC1);</span>
<a name="l00143"></a>00143 <span class="comment">//    m_prevBuffer = cvCreateMat(480,640,CV_8UC1);</span>
<a name="l00144"></a>00144 <span class="comment">//    m_diffBuffer = cvCreateMat(480,640,CV_8UC1);</span>
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     <a class="code" href="class_kinect_interface.html#a36f10fca244ca8382c2d6bcee9132e7a" title="size of the depth buffer for the current mode">m_resolutionDepthBytes</a>=freenect_find_depth_mode(FREENECT_RESOLUTION_MEDIUM,FREENECT_DEPTH_11BIT).bytes;
<a name="l00147"></a>00147     <span class="comment">//m_bufferDepthRaw.resize(m_resolutionDepthBytes);</span>
<a name="l00148"></a>00148     <a class="code" href="class_kinect_interface.html#ad4bce1c22c201eeca611a43f836bedb7" title="the 16Bit raw depth values, this is good for voxel rendering of the data">m_bufferDepthRaw16</a>=cvCreateMat(480,640,CV_8UC1);
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     <a class="code" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepthRaw</a>=cvCreateMat(480,640,CV_8UC1);
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 
<a name="l00154"></a>00154    <span class="comment">// m_originalFrameDepth=NULL;</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 
<a name="l00158"></a>00158     <a class="code" href="class_kinect_interface.html#ab09abb222064475267cc397e027b47bd" title="our gamma table this is filled in the ctor and used in the depth callbacks, this...">m_gamma</a>.resize(2048);
<a name="l00162"></a>00162     <span class="keywordflow">if</span> (freenect_open_device(<a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>, &amp;<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>, <a class="code" href="class_kinect_interface.html#ad6f3dd6f3dc34c44ef0056407d085408" title="user device number">m_userDeviceNumber</a>) &lt; 0)
<a name="l00163"></a>00163     {
<a name="l00164"></a>00164         qDebug()&lt;&lt;<span class="stringliteral">&quot;Could not open device\n&quot;</span>;
<a name="l00165"></a>00165         exit(EXIT_FAILURE);
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 
<a name="l00171"></a>00171 <span class="comment">//    for (int i=0; i&lt;2048; ++i)</span>
<a name="l00172"></a>00172 <span class="comment">//    {</span>
<a name="l00173"></a>00173 <span class="comment">//        float v = i/2048.0;</span>
<a name="l00174"></a>00174 <span class="comment">//        v = std::pow(v, 3)* 6;</span>
<a name="l00175"></a>00175 <span class="comment">//        m_gamma[i] = v*6*256;</span>
<a name="l00176"></a>00176 <span class="comment">//    }</span>
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 
<a name="l00179"></a>00179     <span class="comment">// from opencv imaging imformation wiki page http://openkinect.org/wiki/Imaging_Information</span>
<a name="l00180"></a>00180     <span class="keyword">const</span> <span class="keywordtype">float</span> k1 = 1.1863;
<a name="l00181"></a>00181     <span class="keyword">const</span> <span class="keywordtype">float</span> k2 = 2842.5;
<a name="l00182"></a>00182     <span class="keyword">const</span> <span class="keywordtype">float</span> k3 = 0.1236;
<a name="l00183"></a>00183     <span class="keyword">const</span> <span class="keywordtype">float</span> offset = 0.037;
<a name="l00184"></a>00184     <span class="keywordtype">float</span> depth = 0;
<a name="l00185"></a>00185     <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i&lt;2048; i++)
<a name="l00186"></a>00186     {
<a name="l00187"></a>00187         depth = k3 * tanf(i/k2 + k1) - offset;
<a name="l00188"></a>00188         <a class="code" href="class_kinect_interface.html#ab09abb222064475267cc397e027b47bd" title="our gamma table this is filled in the ctor and used in the depth callbacks, this...">m_gamma</a>[i] = depth;
<a name="l00189"></a>00189     }
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 
<a name="l00193"></a>00193     <a class="code" href="class_kinect_interface.html#af48b4d61f146ffd61f27bf9c21f2dbd2" title="flag to indicate if there is a new rgb frame">m_newRgbFrame</a>=<span class="keyword">false</span>;
<a name="l00194"></a>00194     <a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a>=<span class="keyword">false</span>;
<a name="l00195"></a>00195     <a class="code" href="class_kinect_interface.html#a1c90cd136731712742411214de8acceb" title="flag to indicate if the device is active">m_deviceActive</a>=<span class="keyword">true</span>;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197     <a class="code" href="class_kinect_interface.html#aedd939dc1a2a20fa61fa436c0598790d">m_threshValue</a> = 100;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="comment">// set our video formats to RGB by default</span>
<a name="l00202"></a>00202 <span class="comment"></span>    freenect_set_video_mode(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>, freenect_find_video_mode(FREENECT_RESOLUTION_MEDIUM, FREENECT_VIDEO_RGB));
<a name="l00203"></a>00203     freenect_set_depth_mode(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>, freenect_find_depth_mode(FREENECT_RESOLUTION_MEDIUM, FREENECT_DEPTH_11BIT));
<a name="l00204"></a>00204     <span class="comment">// deprecated</span>
<a name="l00205"></a>00205     <span class="comment">//freenect_set_video_format(m_dev, FREENECT_VIDEO_RGB);</span>
<a name="l00206"></a>00206     <span class="comment">//freenect_set_depth_format(m_dev, FREENECT_DEPTH_11BIT);</span>
<a name="l00208"></a>00208 <span class="comment"></span>    freenect_set_depth_callback(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>, <a class="code" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data...">depthCallback</a>);
<a name="l00209"></a>00209     freenect_set_video_callback(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>, <a class="code" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data...">videoCallback</a>);
<a name="l00210"></a>00210     <span class="comment">// start the video and depth sub systems</span>
<a name="l00211"></a>00211     <a class="code" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3" title="start the Video buffer grabbing subsystem">startVideo</a>();
<a name="l00212"></a>00212     <a class="code" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0" title="start the Depth buffer grabbing subsystem">startDepth</a>();
<a name="l00213"></a>00213     <span class="comment">// set the thread to be active and start</span>
<a name="l00214"></a>00214     <a class="code" href="class_kinect_interface.html#a05d888f70ececf3d5da5d0520eb2a2ef" title="pointer to our thread process used to process the events">m_process</a> = <span class="keyword">new</span> <a class="code" href="class_q_kinect_process_events.html" title="this is the process event thread class it needs to be a class so we can use the Qt...">QKinectProcessEvents</a>(<a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>);
<a name="l00215"></a>00215     <a class="code" href="class_kinect_interface.html#a05d888f70ececf3d5da5d0520eb2a2ef" title="pointer to our thread process used to process the events">m_process</a>-&gt;<a class="code" href="class_q_kinect_process_events.html#a492cc55fcd53ffc1d4d2e4822c9234dc" title="sets the thread active this will loop the run thread with a while(m_active) setting...">setActive</a>();
<a name="l00216"></a>00216     <a class="code" href="class_kinect_interface.html#a05d888f70ececf3d5da5d0520eb2a2ef" title="pointer to our thread process used to process the events">m_process</a>-&gt;start();
<a name="l00217"></a>00217 
<a name="l00218"></a>00218     <a class="code" href="class_kinect_interface.html#a003069902ab58ac52a8246eb9cb45b86">m_depthLower</a> = 0.02;
<a name="l00219"></a>00219     <a class="code" href="class_kinect_interface.html#a521eefa3b5b51e2724edaf0df52bb5b4">m_depthHigher</a> = 1.02; <span class="comment">// has to be just above the table (in meteres)</span>
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     <span class="comment">//m_selectedBoxCoords = NULL;</span>
<a name="l00222"></a>00222 
<a name="l00223"></a>00223     <a class="code" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">m_selectedBoxCoords</a> = cv::Rect(0,0,0,0);
<a name="l00224"></a>00224 
<a name="l00225"></a>00225     <a class="code" href="class_kinect_interface.html#a5ace07ec14c58fddf7dbd806cecfdd1e">m_toggleTracking</a> = <span class="keyword">false</span>;
<a name="l00226"></a>00226     <a class="code" href="class_kinect_interface.html#aa2f9c4cb2e1d63b8f5d2b7967e774d51">m_setBounds</a> = <span class="keyword">false</span>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00229"></a>00229 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a98b9d6c718284304d466c8115d97d0f1_cgraph.png" border="0" usemap="#class_kinect_interface_a98b9d6c718284304d466c8115d97d0f1_cgraph_map" alt=""></div>
<map name="class_kinect_interface_a98b9d6c718284304d466c8115d97d0f1_cgraph_map" id="class_kinect_interface_a98b9d6c718284304d466c8115d97d0f1_cgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="224,5,459,35"/><area shape="rect" id="node10" href="class_q_kinect_process_events.html#a492cc55fcd53ffc1d4d2e4822c9234dc" title="sets the thread active this will loop the run thread with a while(m_active) setting..." alt="" coords="215,59,468,88"/><area shape="rect" id="node12" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0" title="start the Depth buffer grabbing subsystem" alt="" coords="233,112,449,141"/><area shape="rect" id="node14" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3" title="start the Video buffer grabbing subsystem" alt="" coords="236,165,447,195"/><area shape="rect" id="node16" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="227,269,456,299"/><area shape="rect" id="node5" href="class_kinect_interface.html#a94998433b4c199f8fc167f7d5abd0262" title="method to grab the depth passed to the depthCallback function as we are hooking into..." alt="" coords="517,5,728,35"/><area shape="rect" id="node7" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="524,216,721,245"/><area shape="rect" id="node18" href="class_kinect_interface.html#a350fab4e013ae9ebba93951e0c0ae097" title="method to grab the Video passed to the depthCallback function as we are hooking into..." alt="" coords="520,269,725,299"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a98b9d6c718284304d466c8115d97d0f1_icgraph.png" border="0" usemap="#class_kinect_interface_a98b9d6c718284304d466c8115d97d0f1_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a98b9d6c718284304d466c8115d97d0f1_icgraph_map" id="class_kinect_interface_a98b9d6c718284304d466c8115d97d0f1_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="213,245,411,275"/><area shape="rect" id="node5" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="485,59,747,88"/><area shape="rect" id="node9" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="464,112,768,141"/><area shape="rect" id="node12" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="499,5,733,35"/><area shape="rect" id="node15" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="459,165,773,195"/><area shape="rect" id="node17" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="495,219,737,248"/><area shape="rect" id="node19" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="489,272,743,301"/><area shape="rect" id="node21" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="495,325,737,355"/><area shape="rect" id="node23" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="501,379,731,408"/><area shape="rect" id="node25" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="513,432,719,461"/><area shape="rect" id="node31" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="501,485,731,515"/><area shape="rect" id="node7" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="857,85,1052,115"/><area shape="rect" id="node27" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="823,405,1087,435"/><area shape="rect" id="node29" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="841,459,1068,488"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a13c9a56bd98aaf46329914b7323944c7"></a><!-- doxytag: member="KinectInterface::instance" ref="a13c9a56bd98aaf46329914b7323944c7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kinect_interface.html">KinectInterface</a> * KinectInterface::instance </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>get the instance of the <a class="el" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> object this will call the init method of the class if the instance doesn't exist. This is because this class will construct some threads so we need to create an instance first then pass that to the other classes in the thread </p>
<p>Get instance --------------------------------------------------------------------------------------------------------------.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>an instance of the <a class="el" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> object </dd></dl>

<p><dl class="note"><dt><b>Note:</b></dt><dd>this could be made nicer to make it fully thread safe </dd></dl>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00075">75</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8cpp_source.html#l00112">init()</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00313">s_instance</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00076"></a>00076 {
<a name="l00077"></a>00077     <span class="comment">// this is the main singleton code first check to see if we exist</span>
<a name="l00078"></a>00078     <span class="keywordflow">if</span> (<a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73" title="our instance of the Kinect device">s_instance</a>==0 )
<a name="l00079"></a>00079     {
<a name="l00080"></a>00080         <span class="comment">// we do so create an instance (this will validate the pointer so other</span>
<a name="l00081"></a>00081         <span class="comment">// methods called in the init function will have a valid pointer to use)</span>
<a name="l00082"></a>00082         <a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73" title="our instance of the Kinect device">s_instance</a> = <span class="keyword">new</span> <a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a>;
<a name="l00083"></a>00083         <span class="comment">// now setup the actual class (with a valid pointer)</span>
<a name="l00085"></a>00085 <span class="comment"></span>        <span class="keywordflow">if</span>(<a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73" title="our instance of the Kinect device">s_instance</a>-&gt;<a class="code" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class">init</a>() ==  <span class="keyword">false</span>)
<a name="l00086"></a>00086         {
<a name="l00087"></a>00087             <a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73" title="our instance of the Kinect device">s_instance</a> = 0;
<a name="l00088"></a>00088         }
<a name="l00089"></a>00089     }
<a name="l00090"></a>00090     <span class="comment">// otherwise return the existing pointer</span>
<a name="l00091"></a>00091     <span class="keywordflow">return</span> <a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73" title="our instance of the Kinect device">s_instance</a>;
<a name="l00092"></a>00092 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a13c9a56bd98aaf46329914b7323944c7_cgraph.png" border="0" usemap="#class_kinect_interface_a13c9a56bd98aaf46329914b7323944c7_cgraph_map" alt=""></div>
<map name="class_kinect_interface_a13c9a56bd98aaf46329914b7323944c7_cgraph_map" id="class_kinect_interface_a13c9a56bd98aaf46329914b7323944c7_cgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="251,112,411,141"/><area shape="rect" id="node5" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="469,5,704,35"/><area shape="rect" id="node10" href="class_q_kinect_process_events.html#a492cc55fcd53ffc1d4d2e4822c9234dc" title="sets the thread active this will loop the run thread with a while(m_active) setting..." alt="" coords="460,59,713,88"/><area shape="rect" id="node12" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0" title="start the Depth buffer grabbing subsystem" alt="" coords="479,112,695,141"/><area shape="rect" id="node14" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3" title="start the Video buffer grabbing subsystem" alt="" coords="481,165,692,195"/><area shape="rect" id="node16" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="472,219,701,248"/><area shape="rect" id="node7" href="class_kinect_interface.html#a94998433b4c199f8fc167f7d5abd0262" title="method to grab the depth passed to the depthCallback function as we are hooking into..." alt="" coords="763,5,973,35"/><area shape="rect" id="node18" href="class_kinect_interface.html#a350fab4e013ae9ebba93951e0c0ae097" title="method to grab the Video passed to the depthCallback function as we are hooking into..." alt="" coords="765,219,971,248"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a13c9a56bd98aaf46329914b7323944c7_icgraph.png" border="0" usemap="#class_kinect_interface_a13c9a56bd98aaf46329914b7323944c7_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a13c9a56bd98aaf46329914b7323944c7_icgraph_map" id="class_kinect_interface_a13c9a56bd98aaf46329914b7323944c7_icgraph">
<area shape="rect" id="node3" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="277,5,539,35"/><area shape="rect" id="node7" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="256,59,560,88"/><area shape="rect" id="node10" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="291,112,525,141"/><area shape="rect" id="node15" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="251,165,565,195"/><area shape="rect" id="node17" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="287,219,529,248"/><area shape="rect" id="node19" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="281,272,535,301"/><area shape="rect" id="node21" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="287,325,529,355"/><area shape="rect" id="node23" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="293,379,523,408"/><area shape="rect" id="node25" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="305,536,511,565"/><area shape="rect" id="node31" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="293,432,523,461"/><area shape="rect" id="node5" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="649,32,844,61"/><area shape="rect" id="node12" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="667,432,827,461"/><area shape="rect" id="node27" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="615,511,879,540"/><area shape="rect" id="node29" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="633,564,860,593"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae65ee9362b2ed21763de02df1e073770"></a><!-- doxytag: member="KinectInterface::resetAngle" ref="ae65ee9362b2ed21763de02df1e073770" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::resetAngle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reset the tilt angle </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00311">311</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00312"></a>00312 {
<a name="l00313"></a>00313     freenect_set_tilt_degs(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,0);
<a name="l00314"></a>00314 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af809530c3a165f2c2e1d84959578697c"></a><!-- doxytag: member="KinectInterface::rgbFunc" ref="af809530c3a165f2c2e1d84959578697c" args="(freenect_device *_dev, void *o_rgb, uint32_t _timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::rgbFunc </td>
          <td>(</td>
          <td class="paramtype">freenect_device *&nbsp;</td>
          <td class="paramname"> <em>_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>o_rgb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>_timestamp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function for Video callback this hooks into the libfreenect callback system </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_dev</em>&nbsp;</td><td>the device we are querying </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>o_rgb</em>&nbsp;</td><td>the actual video data returned from the device </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>_timestamp</em>&nbsp;</td><td>the time stamp for the grab (not used at present) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8bcb263a8baccc017e37764bcbb43c53"></a><!-- doxytag: member="KinectInterface::setAngle" ref="a8bcb263a8baccc017e37764bcbb43c53" args="(double _angle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setAngle </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>_angle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to change the angle of the <a class="el" href="class_kinect.html">Kinect</a> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_angle</em>&nbsp;</td><td>the angle to set will be constrained to -/+ 30.0 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00317">317</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00320"></a>00320 {
<a name="l00321"></a>00321     <span class="comment">// constrain the angle from -30 - +30</span>
<a name="l00322"></a>00322     <span class="keywordflow">if</span>(_angle &gt; 30)
<a name="l00323"></a>00323     {
<a name="l00324"></a>00324         _angle = 30;
<a name="l00325"></a>00325     }
<a name="l00326"></a>00326     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(_angle &lt;-30)
<a name="l00327"></a>00327     {
<a name="l00328"></a>00328         _angle=-30;
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330     freenect_set_tilt_degs(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,_angle);
<a name="l00331"></a>00331 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab50a8cdc60ad80f8ecbd28b1f6af42b"></a><!-- doxytag: member="KinectInterface::setBoundsDefined" ref="aab50a8cdc60ad80f8ecbd28b1f6af42b" args="(bool _isBoundsDefined)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setBoundsDefined </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>_isBoundsDefined</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00666">666</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00405">m_setBounds</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00667"></a>00667 {
<a name="l00668"></a>00668     <a class="code" href="class_kinect_interface.html#aa2f9c4cb2e1d63b8f5d2b7967e774d51">m_setBounds</a> = _isBoundsDefined;
<a name="l00669"></a>00669 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_aab50a8cdc60ad80f8ecbd28b1f6af42b_icgraph.png" border="0" usemap="#class_kinect_interface_aab50a8cdc60ad80f8ecbd28b1f6af42b_icgraph_map" alt=""></div>
<map name="class_kinect_interface_aab50a8cdc60ad80f8ecbd28b1f6af42b_icgraph_map" id="class_kinect_interface_aab50a8cdc60ad80f8ecbd28b1f6af42b_icgraph">
<area shape="rect" id="node3" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="340,5,601,35"/><area shape="rect" id="node7" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="319,59,623,88"/><area shape="rect" id="node5" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="672,32,867,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a35118714e940ee81a1d13d825552bc1a"></a><!-- doxytag: member="KinectInterface::setBoxObject" ref="a35118714e940ee81a1d13d825552bc1a" args="(int _topX, int _topY, int _width, int _height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setBoxObject </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_topX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_topY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00636">636</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00403">m_selectedBoxCoords</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00405">m_setBounds</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00637"></a>00637 {
<a name="l00638"></a>00638     <a class="code" href="class_kinect_interface.html#aa2f9c4cb2e1d63b8f5d2b7967e774d51">m_setBounds</a> = <span class="keyword">true</span>;
<a name="l00639"></a>00639     <a class="code" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">m_selectedBoxCoords</a>.x = _topX;
<a name="l00640"></a>00640     <a class="code" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">m_selectedBoxCoords</a>.y = _topY;
<a name="l00641"></a>00641     <a class="code" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">m_selectedBoxCoords</a>.width = _width;
<a name="l00642"></a>00642     <a class="code" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">m_selectedBoxCoords</a>.height = _height;
<a name="l00643"></a>00643 
<a name="l00644"></a>00644 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a35118714e940ee81a1d13d825552bc1a_icgraph.png" border="0" usemap="#class_kinect_interface_a35118714e940ee81a1d13d825552bc1a_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a35118714e940ee81a1d13d825552bc1a_icgraph_map" id="class_kinect_interface_a35118714e940ee81a1d13d825552bc1a_icgraph">
<area shape="rect" id="node3" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="288,5,603,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a84dc4e7c21807ad63bbab4148ccfe0fc"></a><!-- doxytag: member="KinectInterface::setDepthVolumeHigher" ref="a84dc4e7c21807ad63bbab4148ccfe0fc" args="(double _inputHigherDepth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setDepthVolumeHigher </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>_inputHigherDepth</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00631">631</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00401">m_depthHigher</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00632"></a>00632 {
<a name="l00633"></a>00633     <a class="code" href="class_kinect_interface.html#a521eefa3b5b51e2724edaf0df52bb5b4">m_depthHigher</a> = _inputHigherDepth;
<a name="l00634"></a>00634 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4e219776c4e21cee93dd67f5d821ad5d"></a><!-- doxytag: member="KinectInterface::setDepthVolumeLower" ref="a4e219776c4e21cee93dd67f5d821ad5d" args="(double _inputLowerDepth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setDepthVolumeLower </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>_inputLowerDepth</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00626">626</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00401">m_depthLower</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00627"></a>00627 {
<a name="l00628"></a>00628     <a class="code" href="class_kinect_interface.html#a003069902ab58ac52a8246eb9cb45b86">m_depthLower</a> = _inputLowerDepth;
<a name="l00629"></a>00629 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac30fbf5db6434a4afa79e435b812d212"></a><!-- doxytag: member="KinectInterface::setGreenLed" ref="ac30fbf5db6434a4afa79e435b812d212" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setGreenLed </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to enable the green LED </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00255">255</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00256"></a>00256 {
<a name="l00257"></a>00257     freenect_set_led(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,LED_GREEN);
<a name="l00258"></a>00258 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a524a26cdd4464ba8846e207d6552f977"></a><!-- doxytag: member="KinectInterface::setGreenLedFlash" ref="a524a26cdd4464ba8846e207d6552f977" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setGreenLedFlash </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to flash the green led </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00270">270</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00271"></a>00271 {
<a name="l00272"></a>00272  freenect_set_led(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,LED_BLINK_GREEN);
<a name="l00273"></a>00273 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="add145b8666b0b72861cc06df0bb47dbb"></a><!-- doxytag: member="KinectInterface::setLedOff" ref="add145b8666b0b72861cc06df0bb47dbb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setLedOff </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to turn off the led </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00245">245</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00246"></a>00246 {
<a name="l00247"></a>00247     freenect_set_led(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,LED_OFF);
<a name="l00248"></a>00248 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3e91820cd20f31e943e38af945de689e"></a><!-- doxytag: member="KinectInterface::setRedLed" ref="a3e91820cd20f31e943e38af945de689e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setRedLed </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to enable the red LED </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00250">250</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00251"></a>00251 {
<a name="l00252"></a>00252     freenect_set_led(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,LED_RED);
<a name="l00253"></a>00253 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aedd6b9e8d3a5a508cc5021edfc608357"></a><!-- doxytag: member="KinectInterface::setRedLedFlash" ref="aedd6b9e8d3a5a508cc5021edfc608357" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setRedLedFlash </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to flash the red led </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00265">265</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00266"></a>00266 {
<a name="l00267"></a>00267     freenect_set_led(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,LED_BLINK_RED_YELLOW);
<a name="l00268"></a>00268 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2b6acade3bd4b639b7d32e14d7ea4a62"></a><!-- doxytag: member="KinectInterface::setThreshold" ref="a2b6acade3bd4b639b7d32e14d7ea4a62" args="(int _value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setThreshold </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00608">608</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00399">m_threshValue</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00609"></a>00609 {
<a name="l00610"></a>00610     <a class="code" href="class_kinect_interface.html#aedd939dc1a2a20fa61fa436c0598790d">m_threshValue</a> = _value;
<a name="l00611"></a>00611 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1ee9689c8d8249fe7c58109574e55498"></a><!-- doxytag: member="KinectInterface::setUserDeviceNumber" ref="a1ee9689c8d8249fe7c58109574e55498" args="(int _m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setUserDeviceNumber </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_m</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>we can set the user device number here by default it will be 1 </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_m</em>&nbsp;</td><td>the number we wish to set </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00131">131</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00325">m_userDeviceNumber</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00131"></a>00131 {<a class="code" href="class_kinect_interface.html#ad6f3dd6f3dc34c44ef0056407d085408" title="user device number">m_userDeviceNumber</a>=_m;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7120a337446097931e964ed47a4421ce"></a><!-- doxytag: member="KinectInterface::setVideoMode" ref="a7120a337446097931e964ed47a4421ce" args="(int _mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setVideoMode </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_mode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to set the video mode </p>
<p>param _mode the video mode as an int index FREENECT_VIDEO_RGB = 0, FREENECT_VIDEO_YUV_RGB = 1, FREENECT_VIDEO_IR_8BIT = 2, </p>

<p><p>stop the video and set to new mode </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00280">280</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00283"></a>00283 {
<a name="l00284"></a>00284     freenect_video_format vm=FREENECT_VIDEO_RGB;
<a name="l00285"></a>00285     <span class="keywordflow">switch</span>(_mode)
<a name="l00286"></a>00286     {
<a name="l00287"></a>00287         <span class="keywordflow">case</span> 0 : { vm=FREENECT_VIDEO_RGB; <span class="keywordflow">break</span>;}
<a name="l00288"></a>00288         <span class="keywordflow">case</span> 1 : { vm=FREENECT_VIDEO_YUV_RGB; <span class="keywordflow">break</span>;}
<a name="l00289"></a>00289         <span class="keywordflow">case</span> 2 : { vm=FREENECT_VIDEO_IR_8BIT; <span class="keywordflow">break</span>;}
<a name="l00290"></a>00290         <span class="comment">/*</span>
<a name="l00292"></a>00292 <span class="comment">        case 1 : { vm=FREENECT_VIDEO_BAYER; break;}</span>
<a name="l00293"></a>00293 <span class="comment">        case 2 : { vm=FREENECT_VIDEO_IR_8BIT; break;}</span>
<a name="l00294"></a>00294 <span class="comment">        case 3 : { vm=FREENECT_VIDEO_IR_10BIT; break;}</span>
<a name="l00295"></a>00295 <span class="comment">        case 4 : { vm=FREENECT_VIDEO_IR_10BIT_PACKED; break;}</span>
<a name="l00296"></a>00296 <span class="comment">        case 5 : { vm=FREENECT_VIDEO_YUV_RGB; break;}</span>
<a name="l00297"></a>00297 <span class="comment">        case 6 : { vm=FREENECT_VIDEO_YUV_RAW; break;}</span>
<a name="l00298"></a>00298 <span class="comment">        */</span>
<a name="l00299"></a>00299         <span class="keywordflow">default</span> : qDebug()&lt;&lt;<span class="stringliteral">&quot;index out of bounds for video mode\n&quot;</span>;
<a name="l00300"></a>00300                             vm=FREENECT_VIDEO_RGB;
<a name="l00301"></a>00301         <span class="keywordflow">break</span>;
<a name="l00302"></a>00302     }
<a name="l00304"></a>00304     freenect_stop_video(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>);
<a name="l00305"></a>00305     freenect_set_video_mode(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>, freenect_find_video_mode(FREENECT_RESOLUTION_MEDIUM, FREENECT_VIDEO_RGB));
<a name="l00306"></a>00306     <span class="comment">//deprecated</span>
<a name="l00307"></a>00307 <span class="comment">//  freenect_set_video_format(m_dev, vm);</span>
<a name="l00308"></a>00308     freenect_start_video(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>);
<a name="l00309"></a>00309 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a177a59f3e4f860db0f2286f57884b7a3"></a><!-- doxytag: member="KinectInterface::setYellowLed" ref="a177a59f3e4f860db0f2286f57884b7a3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setYellowLed </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to enable the yellow LED </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00260">260</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00261"></a>00261 {
<a name="l00262"></a>00262     freenect_set_led(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,LED_YELLOW);
<a name="l00263"></a>00263 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab920f30201f47f3fb99fdbcbd1d81217"></a><!-- doxytag: member="KinectInterface::setYellowLedFlash" ref="ab920f30201f47f3fb99fdbcbd1d81217" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::setYellowLedFlash </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>slot to flash the yellow led </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00275">275</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00276"></a>00276 {
<a name="l00277"></a>00277     freenect_set_led(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>,LED_BLINK_RED_YELLOW);
<a name="l00278"></a>00278 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ade531f82baadaeefe01f9c3e37340930"></a><!-- doxytag: member="KinectInterface::shutDownKinect" ref="ade531f82baadaeefe01f9c3e37340930" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::shutDownKinect </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>method to shutdown our device and close </p>

<p><p>stop the processing thread</p>
<p>stop the video and depth callbacks </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00232">232</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00317">m_ctx</a>, <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>, <a class="el" href="_kinect_interface_8h_source.html#l00391">m_process</a>, and <a class="el" href="_kinect_interface_8h_source.html#l00073">QKinectProcessEvents::setInActive()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00233"></a>00233 {
<a name="l00235"></a>00235     <a class="code" href="class_kinect_interface.html#a05d888f70ececf3d5da5d0520eb2a2ef" title="pointer to our thread process used to process the events">m_process</a>-&gt;<a class="code" href="class_q_kinect_process_events.html#a0b5a492232dcce352a77a183dab34cb4" title="sets the thread active must call QThread::start again to make this work if the thread...">setInActive</a>();
<a name="l00237"></a>00237     freenect_stop_depth(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>);
<a name="l00238"></a>00238     freenect_stop_video(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>);
<a name="l00239"></a>00239     <span class="comment">// close down our devices</span>
<a name="l00240"></a>00240     freenect_close_device(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>);
<a name="l00241"></a>00241     freenect_shutdown(<a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_ade531f82baadaeefe01f9c3e37340930_cgraph.png" border="0" usemap="#class_kinect_interface_ade531f82baadaeefe01f9c3e37340930_cgraph_map" alt=""></div>
<map name="class_kinect_interface_ade531f82baadaeefe01f9c3e37340930_cgraph_map" id="class_kinect_interface_ade531f82baadaeefe01f9c3e37340930_cgraph">
<area shape="rect" id="node3" href="class_q_kinect_process_events.html#a0b5a492232dcce352a77a183dab34cb4" title="sets the thread active must call QThread::start again to make this work if the thread..." alt="" coords="304,5,571,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_ade531f82baadaeefe01f9c3e37340930_icgraph.png" border="0" usemap="#class_kinect_interface_ade531f82baadaeefe01f9c3e37340930_icgraph_map" alt=""></div>
<map name="class_kinect_interface_ade531f82baadaeefe01f9c3e37340930_icgraph_map" id="class_kinect_interface_ade531f82baadaeefe01f9c3e37340930_icgraph">
<area shape="rect" id="node3" href="class_main_window.html#a3c2e352934c6318d405c3d2b0e07729c" title="override the keyPressEvent inherited from QObject so we can handle key presses." alt="" coords="305,5,519,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa6b0220f7d3310199f699a11ad04e1d0"></a><!-- doxytag: member="KinectInterface::startDepth" ref="aa6b0220f7d3310199f699a11ad04e1d0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::startDepth </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>start the Depth buffer grabbing subsystem </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00566">566</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00567"></a>00567 {
<a name="l00568"></a>00568     <span class="keywordflow">if</span>(freenect_start_depth(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>) &lt; 0)
<a name="l00569"></a>00569     {
<a name="l00570"></a>00570         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Cannot start depth callback&quot;</span>);
<a name="l00571"></a>00571     }
<a name="l00572"></a>00572 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_aa6b0220f7d3310199f699a11ad04e1d0_icgraph.png" border="0" usemap="#class_kinect_interface_aa6b0220f7d3310199f699a11ad04e1d0_icgraph_map" alt=""></div>
<map name="class_kinect_interface_aa6b0220f7d3310199f699a11ad04e1d0_icgraph_map" id="class_kinect_interface_aa6b0220f7d3310199f699a11ad04e1d0_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="321,245,481,275"/><area shape="rect" id="node36" href="class_kinect_interface.html#aa5ba053afb2c9fcf781e485b825f3d81" title="convenience method to toggle the depth mode with a bool to indicate mode, useful..." alt="" coords="269,299,533,328"/><area shape="rect" id="node5" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="581,245,779,275"/><area shape="rect" id="node7" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="853,59,1115,88"/><area shape="rect" id="node11" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="832,112,1136,141"/><area shape="rect" id="node14" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="867,5,1101,35"/><area shape="rect" id="node17" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="827,165,1141,195"/><area shape="rect" id="node19" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="863,219,1105,248"/><area shape="rect" id="node21" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="857,272,1111,301"/><area shape="rect" id="node23" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="863,325,1105,355"/><area shape="rect" id="node25" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="869,379,1099,408"/><area shape="rect" id="node27" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="881,432,1087,461"/><area shape="rect" id="node33" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="869,485,1099,515"/><area shape="rect" id="node9" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="1225,85,1420,115"/><area shape="rect" id="node29" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="1191,405,1455,435"/><area shape="rect" id="node31" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="1209,459,1436,488"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac175937429aed66eac7a131ba540afb3"></a><!-- doxytag: member="KinectInterface::startVideo" ref="ac175937429aed66eac7a131ba540afb3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::startVideo </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>start the Video buffer grabbing subsystem </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00550">550</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00551"></a>00551 {
<a name="l00552"></a>00552     <span class="keywordflow">if</span>(freenect_start_video(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>) &lt; 0)
<a name="l00553"></a>00553     {
<a name="l00554"></a>00554         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Cannot start RGB callback&quot;</span>);
<a name="l00555"></a>00555     }
<a name="l00556"></a>00556 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_ac175937429aed66eac7a131ba540afb3_icgraph.png" border="0" usemap="#class_kinect_interface_ac175937429aed66eac7a131ba540afb3_icgraph_map" alt=""></div>
<map name="class_kinect_interface_ac175937429aed66eac7a131ba540afb3_icgraph_map" id="class_kinect_interface_ac175937429aed66eac7a131ba540afb3_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="313,245,473,275"/><area shape="rect" id="node36" href="class_kinect_interface.html#a9aa2f0af1e2ffdc0f41fd495fc0d4aef" title="convenience method to toggle the video mode with a bool to indicate mode, useful..." alt="" coords="264,299,523,328"/><area shape="rect" id="node5" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="571,245,768,275"/><area shape="rect" id="node7" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="843,59,1104,88"/><area shape="rect" id="node11" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="821,112,1125,141"/><area shape="rect" id="node14" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="856,5,1091,35"/><area shape="rect" id="node17" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="816,165,1131,195"/><area shape="rect" id="node19" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="852,219,1095,248"/><area shape="rect" id="node21" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="847,272,1100,301"/><area shape="rect" id="node23" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="852,325,1095,355"/><area shape="rect" id="node25" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="859,379,1088,408"/><area shape="rect" id="node27" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="871,432,1076,461"/><area shape="rect" id="node33" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="859,485,1088,515"/><area shape="rect" id="node9" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="1215,85,1409,115"/><area shape="rect" id="node29" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="1180,405,1444,435"/><area shape="rect" id="node31" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="1199,459,1425,488"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b73cfc2d221fdfda087fe6ca5c8cd39"></a><!-- doxytag: member="KinectInterface::stopDepth" ref="a7b73cfc2d221fdfda087fe6ca5c8cd39" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::stopDepth </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>stop the Depth buffer grabbing subsystem </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00575">575</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00576"></a>00576 {
<a name="l00577"></a>00577     <span class="keywordflow">if</span>(freenect_stop_depth(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>) &lt; 0)
<a name="l00578"></a>00578     {
<a name="l00579"></a>00579         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Cannot stop depth callback&quot;</span>);
<a name="l00580"></a>00580     }
<a name="l00581"></a>00581 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a7b73cfc2d221fdfda087fe6ca5c8cd39_icgraph.png" border="0" usemap="#class_kinect_interface_a7b73cfc2d221fdfda087fe6ca5c8cd39_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a7b73cfc2d221fdfda087fe6ca5c8cd39_icgraph_map" id="class_kinect_interface_a7b73cfc2d221fdfda087fe6ca5c8cd39_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#aa5ba053afb2c9fcf781e485b825f3d81" title="convenience method to toggle the depth mode with a bool to indicate mode, useful..." alt="" coords="267,5,531,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e2c57289a79b81b85d9e5b58e661e1e"></a><!-- doxytag: member="KinectInterface::stopVideo" ref="a0e2c57289a79b81b85d9e5b58e661e1e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::stopVideo </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>stop the Depth buffer grabbing subsystem </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00558">558</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00321">m_dev</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00559"></a>00559 {
<a name="l00560"></a>00560     <span class="keywordflow">if</span>(freenect_stop_video(<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>) &lt; 0)
<a name="l00561"></a>00561     {
<a name="l00562"></a>00562         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Cannot stop RGB callback&quot;</span>);
<a name="l00563"></a>00563     }
<a name="l00564"></a>00564 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a0e2c57289a79b81b85d9e5b58e661e1e_icgraph.png" border="0" usemap="#class_kinect_interface_a0e2c57289a79b81b85d9e5b58e661e1e_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a0e2c57289a79b81b85d9e5b58e661e1e_icgraph_map" id="class_kinect_interface_a0e2c57289a79b81b85d9e5b58e661e1e_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a9aa2f0af1e2ffdc0f41fd495fc0d4aef" title="convenience method to toggle the video mode with a bool to indicate mode, useful..." alt="" coords="261,5,520,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa5ba053afb2c9fcf781e485b825f3d81"></a><!-- doxytag: member="KinectInterface::toggleDepthState" ref="aa5ba053afb2c9fcf781e485b825f3d81" args="(bool _mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::toggleDepthState </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>_mode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>convenience method to toggle the depth mode with a bool to indicate mode, useful for connecting to buttons </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00596">596</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8cpp_source.html#l00566">startDepth()</a>, and <a class="el" href="_kinect_interface_8cpp_source.html#l00575">stopDepth()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00597"></a>00597 {
<a name="l00598"></a>00598     <span class="keywordflow">if</span>(_mode == <span class="keyword">true</span>)
<a name="l00599"></a>00599     {
<a name="l00600"></a>00600         <a class="code" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0" title="start the Depth buffer grabbing subsystem">startDepth</a>();
<a name="l00601"></a>00601     }
<a name="l00602"></a>00602     <span class="keywordflow">else</span>
<a name="l00603"></a>00603     {
<a name="l00604"></a>00604         <a class="code" href="class_kinect_interface.html#a7b73cfc2d221fdfda087fe6ca5c8cd39" title="stop the Depth buffer grabbing subsystem">stopDepth</a>();
<a name="l00605"></a>00605     }
<a name="l00606"></a>00606 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_aa5ba053afb2c9fcf781e485b825f3d81_cgraph.png" border="0" usemap="#class_kinect_interface_aa5ba053afb2c9fcf781e485b825f3d81_cgraph_map" alt=""></div>
<map name="class_kinect_interface_aa5ba053afb2c9fcf781e485b825f3d81_cgraph_map" id="class_kinect_interface_aa5ba053afb2c9fcf781e485b825f3d81_cgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0" title="start the Depth buffer grabbing subsystem" alt="" coords="317,5,533,35"/><area shape="rect" id="node5" href="class_kinect_interface.html#a7b73cfc2d221fdfda087fe6ca5c8cd39" title="stop the Depth buffer grabbing subsystem" alt="" coords="320,59,531,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a49f91219e04f60c9b75f9d7b8a68360e"></a><!-- doxytag: member="KinectInterface::toggleTracking" ref="a49f91219e04f60c9b75f9d7b8a68360e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::toggleTracking </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00651">651</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8h_source.html#l00405">m_toggleTracking</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00652"></a>00652 {
<a name="l00653"></a>00653     <a class="code" href="class_kinect_interface.html#a5ace07ec14c58fddf7dbd806cecfdd1e">m_toggleTracking</a> = !(<a class="code" href="class_kinect_interface.html#a5ace07ec14c58fddf7dbd806cecfdd1e">m_toggleTracking</a>);
<a name="l00654"></a>00654 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a49f91219e04f60c9b75f9d7b8a68360e_icgraph.png" border="0" usemap="#class_kinect_interface_a49f91219e04f60c9b75f9d7b8a68360e_icgraph_map" alt=""></div>
<map name="class_kinect_interface_a49f91219e04f60c9b75f9d7b8a68360e_icgraph_map" id="class_kinect_interface_a49f91219e04f60c9b75f9d7b8a68360e_icgraph">
<area shape="rect" id="node3" href="class_main_window.html#a46f5cca022a5b15f60064574dfbc64ba" title="MainWindow::setTrackingFlag" alt="" coords="288,5,504,35"/><area shape="rect" id="node5" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="552,5,747,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9aa2f0af1e2ffdc0f41fd495fc0d4aef"></a><!-- doxytag: member="KinectInterface::toggleVideoState" ref="a9aa2f0af1e2ffdc0f41fd495fc0d4aef" args="(bool _mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KinectInterface::toggleVideoState </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>_mode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>convenience method to toggle the video mode with a bool to indicate mode, useful for connecting to buttons </p>

<p>Definition at line <a class="el" href="_kinect_interface_8cpp_source.html#l00584">584</a> of file <a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a>.</p>

<p>References <a class="el" href="_kinect_interface_8cpp_source.html#l00550">startVideo()</a>, and <a class="el" href="_kinect_interface_8cpp_source.html#l00558">stopVideo()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00585"></a>00585 {
<a name="l00586"></a>00586     <span class="keywordflow">if</span>(_mode ==<span class="keyword">true</span>)
<a name="l00587"></a>00587     {
<a name="l00588"></a>00588         <a class="code" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3" title="start the Video buffer grabbing subsystem">startVideo</a>();
<a name="l00589"></a>00589     }
<a name="l00590"></a>00590     <span class="keywordflow">else</span>
<a name="l00591"></a>00591     {
<a name="l00592"></a>00592         <a class="code" href="class_kinect_interface.html#a0e2c57289a79b81b85d9e5b58e661e1e" title="stop the Depth buffer grabbing subsystem">stopVideo</a>();
<a name="l00593"></a>00593     }
<a name="l00594"></a>00594 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_a9aa2f0af1e2ffdc0f41fd495fc0d4aef_cgraph.png" border="0" usemap="#class_kinect_interface_a9aa2f0af1e2ffdc0f41fd495fc0d4aef_cgraph_map" alt=""></div>
<map name="class_kinect_interface_a9aa2f0af1e2ffdc0f41fd495fc0d4aef_cgraph_map" id="class_kinect_interface_a9aa2f0af1e2ffdc0f41fd495fc0d4aef_cgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3" title="start the Video buffer grabbing subsystem" alt="" coords="312,5,523,35"/><area shape="rect" id="node5" href="class_kinect_interface.html#a0e2c57289a79b81b85d9e5b58e661e1e" title="stop the Depth buffer grabbing subsystem" alt="" coords="315,59,520,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa08ef063072d6dd62b72507c87fa689a"></a><!-- doxytag: member="KinectInterface::videoCallback" ref="aa08ef063072d6dd62b72507c87fa689a" args="(freenect_device *_dev, void *_video, uint32_t _timestamp=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void KinectInterface::videoCallback </td>
          <td>(</td>
          <td class="paramtype">freenect_device *&nbsp;</td>
          <td class="paramname"> <em>_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>_video</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>_timestamp</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>this hooks into the feenet callback system an is the main way of getting the data from the kinect this is not called directly </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_dev</em>&nbsp;</td><td>this is not used as we use the class m_dev </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_video</em>&nbsp;</td><td>the depth data </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_timestamp</em>&nbsp;</td><td>the timestamp of the operation (not used) </td></tr>
  </table>
  </dd>
</dl>

<p><p>get an instance of our device</p>
<p>then fill the video buffer </p>
</p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00482">482</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

<p>References <a class="el" href="_kinect_interface_8cpp_source.html#l00535">grabVideo()</a>, and <a class="el" href="_kinect_interface_8cpp_source.html#l00075">instance()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00487"></a>00487     {
<a name="l00488"></a>00488         Q_UNUSED(_dev);
<a name="l00489"></a>00489 
<a name="l00491"></a>00491         <a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> *kinect=<a class="code" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of...">KinectInterface::instance</a>();
<a name="l00493"></a>00493         kinect-&gt;<a class="code" href="class_kinect_interface.html#a350fab4e013ae9ebba93951e0c0ae097" title="method to grab the Video passed to the depthCallback function as we are hooking into...">grabVideo</a>(_video, _timestamp);
<a name="l00494"></a>00494     }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_aa08ef063072d6dd62b72507c87fa689a_cgraph.png" border="0" usemap="#class_kinect_interface_aa08ef063072d6dd62b72507c87fa689a_cgraph_map" alt=""></div>
<map name="class_kinect_interface_aa08ef063072d6dd62b72507c87fa689a_cgraph_map" id="class_kinect_interface_aa08ef063072d6dd62b72507c87fa689a_cgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a350fab4e013ae9ebba93951e0c0ae097" title="method to grab the Video passed to the depthCallback function as we are hooking into..." alt="" coords="285,5,491,35"/><area shape="rect" id="node5" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="289,59,487,88"/><area shape="rect" id="node7" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="539,111,699,140"/><area shape="rect" id="node9" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="757,57,992,87"/><area shape="rect" id="node14" href="class_q_kinect_process_events.html#a492cc55fcd53ffc1d4d2e4822c9234dc" title="sets the thread active this will loop the run thread with a while(m_active) setting..." alt="" coords="748,111,1001,140"/><area shape="rect" id="node16" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0" title="start the Depth buffer grabbing subsystem" alt="" coords="767,164,983,193"/><area shape="rect" id="node18" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3" title="start the Video buffer grabbing subsystem" alt="" coords="769,217,980,247"/><area shape="rect" id="node11" href="class_kinect_interface.html#a94998433b4c199f8fc167f7d5abd0262" title="method to grab the depth passed to the depthCallback function as we are hooking into..." alt="" coords="1051,57,1261,87"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_kinect_interface_aa08ef063072d6dd62b72507c87fa689a_icgraph.png" border="0" usemap="#class_kinect_interface_aa08ef063072d6dd62b72507c87fa689a_icgraph_map" alt=""></div>
<map name="class_kinect_interface_aa08ef063072d6dd62b72507c87fa689a_icgraph_map" id="class_kinect_interface_aa08ef063072d6dd62b72507c87fa689a_icgraph">
<area shape="rect" id="node3" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class" alt="" coords="285,140,445,169"/><area shape="rect" id="node5" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of..." alt="" coords="493,192,691,221"/><area shape="rect" id="node7" href="class_main_window.html#a93928b6200958fc766089853eb9fdce5" title="MainWindow::buildLiveWindowSetUp" alt="" coords="765,59,1027,88"/><area shape="rect" id="node11" href="class_main_window.html#af50c44bd4828bae894d20db21e700f5e" title="MainWindow::buildTrackingVzWindowSetUp" alt="" coords="744,112,1048,141"/><area shape="rect" id="node14" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data..." alt="" coords="779,5,1013,35"/><area shape="rect" id="node17" href="class_r_g_bbounds_visualization.html#ab88d4a0cd66600bd87fd1340c370757f" title="this method is called everytime the mouse button is pressed inherited from QObject..." alt="" coords="739,165,1053,195"/><area shape="rect" id="node19" href="class_r_g_bbounds_visualization.html#ac9bb64af7cefcb1107d5ae7324f39356" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="775,219,1017,248"/><area shape="rect" id="node21" href="class_depth_debug_visualization.html#acb507ccc2e4e06b7ec266eb81c19c406" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="769,272,1023,301"/><area shape="rect" id="node23" href="class_ball_tracking_visualization.html#a6b114ba5854490b5d80789c66d842e5c" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="775,325,1017,355"/><area shape="rect" id="node25" href="class_stats_visualization.html#ade24f1574f8eda60cb6e8264e5dfe682" title="the timer event triggered from the timers" alt="" coords="781,379,1011,408"/><area shape="rect" id="node27" href="class_ball_tracking_utility.html#a407c9becd9b22fa1bf68bc1fefc5ea3b" title="BallTrackingUtility::trackBall" alt="" coords="793,432,999,461"/><area shape="rect" id="node9" href="class_main_window.html#a93cfdcac35db98baf6a7d2c2738a2006" title="constructor" alt="" coords="1137,85,1332,115"/><area shape="rect" id="node29" href="class_ball_tracking_utility.html#a617412a5cfcf75bfa4a64768ccbfb8ee" title="BallTrackingUtility::BallTrackingUtility" alt="" coords="1103,405,1367,435"/><area shape="rect" id="node31" href="class_ball_tracking_utility.html#a54e21321a40e6d186198d56f8b7f8c91" title="called when the timer is triggered" alt="" coords="1121,459,1348,488"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae31e98852051b1b7fcd47d38173141e2"></a><!-- doxytag: member="KinectInterface::m_bufferDepth" ref="ae31e98852051b1b7fcd47d38173141e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat <a class="el" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2">KinectInterface::m_bufferDepth</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>our depth buffer for the current depth frames will be filled from the depth callback, this data is converted into an RGB representation with Red being closest and blue far away, this is done via a gamma table and converting the depth from 16 bit to 8 bit RGB useful for OpenCV like motion tracking </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00334">334</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a08a8290bb2f445728df5e5c081e114ab"></a><!-- doxytag: member="KinectInterface::m_bufferDepthinM" ref="a08a8290bb2f445728df5e5c081e114ab" args="[640 *480]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="class_kinect_interface.html#a08a8290bb2f445728df5e5c081e114ab">KinectInterface::m_bufferDepthinM</a>[640 *480]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00348">348</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="af89953fcc5f04b92ba317c2f0a0f6680"></a><!-- doxytag: member="KinectInterface::m_bufferDepthRaw" ref="af89953fcc5f04b92ba317c2f0a0f6680" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat <a class="el" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680">KinectInterface::m_bufferDepthRaw</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>our depth buffer for the current depth frames will be filled from the depth callback this is the unaltered data converted to 8 bit not really useful so may get rid of at a later date just legacy from testing the other examples </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00346">346</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad4bce1c22c201eeca611a43f836bedb7"></a><!-- doxytag: member="KinectInterface::m_bufferDepthRaw16" ref="ad4bce1c22c201eeca611a43f836bedb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat <a class="el" href="class_kinect_interface.html#ad4bce1c22c201eeca611a43f836bedb7">KinectInterface::m_bufferDepthRaw16</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the 16Bit raw depth values, this is good for voxel rendering of the data </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00355">355</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="af0f9011f62e90ab66b30a30db870e46d"></a><!-- doxytag: member="KinectInterface::m_bufferVideo" ref="af0f9011f62e90ab66b30a30db870e46d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat <a class="el" href="class_kinect_interface.html#af0f9011f62e90ab66b30a30db870e46d">KinectInterface::m_bufferVideo</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>our video buffer for the current rgb video frames will be filled from the rgb callback </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00339">339</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0beaae30bca59043cccbcff21bbc8772"></a><!-- doxytag: member="KinectInterface::m_bufferVideoGray" ref="a0beaae30bca59043cccbcff21bbc8772" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat <a class="el" href="class_kinect_interface.html#a0beaae30bca59043cccbcff21bbc8772">KinectInterface::m_bufferVideoGray</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00339">339</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaa1711822e094f956c2e54ef2230a52a"></a><!-- doxytag: member="KinectInterface::m_ctx" ref="aaa1711822e094f956c2e54ef2230a52a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">freenect_context* <a class="el" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a">KinectInterface::m_ctx</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the contex for the device </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00317">317</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a521eefa3b5b51e2724edaf0df52bb5b4"></a><!-- doxytag: member="KinectInterface::m_depthHigher" ref="a521eefa3b5b51e2724edaf0df52bb5b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_kinect_interface.html#a521eefa3b5b51e2724edaf0df52bb5b4">KinectInterface::m_depthHigher</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00401">401</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a003069902ab58ac52a8246eb9cb45b86"></a><!-- doxytag: member="KinectInterface::m_depthLower" ref="a003069902ab58ac52a8246eb9cb45b86" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_kinect_interface.html#a003069902ab58ac52a8246eb9cb45b86">KinectInterface::m_depthLower</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00401">401</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a96a7824501cb30683fcff98f33916036"></a><!-- doxytag: member="KinectInterface::m_dev" ref="a96a7824501cb30683fcff98f33916036" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">freenect_device* <a class="el" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036">KinectInterface::m_dev</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>our device pointer </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00321">321</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1c90cd136731712742411214de8acceb"></a><!-- doxytag: member="KinectInterface::m_deviceActive" ref="a1c90cd136731712742411214de8acceb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_kinect_interface.html#a1c90cd136731712742411214de8acceb">KinectInterface::m_deviceActive</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag to indicate if the device is active </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00377">377</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2011b60401918e552d89b984c642703e"></a><!-- doxytag: member="KinectInterface::m_diffBuffer" ref="a2011b60401918e552d89b984c642703e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat <a class="el" href="class_kinect_interface.html#a2011b60401918e552d89b984c642703e">KinectInterface::m_diffBuffer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00339">339</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab09abb222064475267cc397e027b47bd"></a><!-- doxytag: member="KinectInterface::m_gamma" ref="ab09abb222064475267cc397e027b47bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; <a class="el" href="class_kinect_interface.html#ab09abb222064475267cc397e027b47bd">KinectInterface::m_gamma</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>our gamma table this is filled in the ctor and used in the depth callbacks, this is taken from the sample code glview.c cppview.cpp </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00361">361</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a02e2504b52eb0e0f94d0a89a884107a9"></a><!-- doxytag: member="KinectInterface::m_mutex" ref="a02e2504b52eb0e0f94d0a89a884107a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMutex <a class="el" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9">KinectInterface::m_mutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically control our mutex state </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00396">396</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae328c2cb818245881e2e98456872759c"></a><!-- doxytag: member="KinectInterface::m_newDepthFrame" ref="ae328c2cb818245881e2e98456872759c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c">KinectInterface::m_newDepthFrame</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag to indicate if there is a new depth frame </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00369">369</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="af48b4d61f146ffd61f27bf9c21f2dbd2"></a><!-- doxytag: member="KinectInterface::m_newRgbFrame" ref="af48b4d61f146ffd61f27bf9c21f2dbd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_kinect_interface.html#af48b4d61f146ffd61f27bf9c21f2dbd2">KinectInterface::m_newRgbFrame</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag to indicate if there is a new rgb frame </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00365">365</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9e8f0cf659f0e5f9e3633fb2b1876ea9"></a><!-- doxytag: member="KinectInterface::m_nextBuffer" ref="a9e8f0cf659f0e5f9e3633fb2b1876ea9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat <a class="el" href="class_kinect_interface.html#a9e8f0cf659f0e5f9e3633fb2b1876ea9">KinectInterface::m_nextBuffer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00339">339</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1f9d7c8d7ef9e70ece64207267e1af75"></a><!-- doxytag: member="KinectInterface::m_prevBuffer" ref="a1f9d7c8d7ef9e70ece64207267e1af75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat <a class="el" href="class_kinect_interface.html#a1f9d7c8d7ef9e70ece64207267e1af75">KinectInterface::m_prevBuffer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00339">339</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a05d888f70ececf3d5da5d0520eb2a2ef"></a><!-- doxytag: member="KinectInterface::m_process" ref="a05d888f70ececf3d5da5d0520eb2a2ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_q_kinect_process_events.html">QKinectProcessEvents</a>* <a class="el" href="class_kinect_interface.html#a05d888f70ececf3d5da5d0520eb2a2ef">KinectInterface::m_process</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to our thread process used to process the events </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00391">391</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a36f10fca244ca8382c2d6bcee9132e7a"></a><!-- doxytag: member="KinectInterface::m_resolutionDepthBytes" ref="a36f10fca244ca8382c2d6bcee9132e7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_kinect_interface.html#a36f10fca244ca8382c2d6bcee9132e7a">KinectInterface::m_resolutionDepthBytes</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>size of the depth buffer for the current mode </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00386">386</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3f5c05c31e6b0b58c54bbe9df7b31cd9"></a><!-- doxytag: member="KinectInterface::m_resolutionRGBBytes" ref="a3f5c05c31e6b0b58c54bbe9df7b31cd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_kinect_interface.html#a3f5c05c31e6b0b58c54bbe9df7b31cd9">KinectInterface::m_resolutionRGBBytes</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>size of the RGB buffer for the current mode </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00382">382</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a29e0604131a3c9c2552b9bc4488caec4"></a><!-- doxytag: member="KinectInterface::m_selectedBoxCoords" ref="a29e0604131a3c9c2552b9bc4488caec4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Rect <a class="el" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">KinectInterface::m_selectedBoxCoords</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00403">403</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa2f9c4cb2e1d63b8f5d2b7967e774d51"></a><!-- doxytag: member="KinectInterface::m_setBounds" ref="aa2f9c4cb2e1d63b8f5d2b7967e774d51" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_kinect_interface.html#aa2f9c4cb2e1d63b8f5d2b7967e774d51">KinectInterface::m_setBounds</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00405">405</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa436800ae911d7675f374627b44937d8"></a><!-- doxytag: member="KinectInterface::m_stopDevice" ref="aa436800ae911d7675f374627b44937d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_kinect_interface.html#aa436800ae911d7675f374627b44937d8">KinectInterface::m_stopDevice</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag to indicate if we need to stop the device </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00373">373</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="aedd939dc1a2a20fa61fa436c0598790d"></a><!-- doxytag: member="KinectInterface::m_threshValue" ref="aedd939dc1a2a20fa61fa436c0598790d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_kinect_interface.html#aedd939dc1a2a20fa61fa436c0598790d">KinectInterface::m_threshValue</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00399">399</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5ace07ec14c58fddf7dbd806cecfdd1e"></a><!-- doxytag: member="KinectInterface::m_toggleTracking" ref="a5ace07ec14c58fddf7dbd806cecfdd1e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_kinect_interface.html#a5ace07ec14c58fddf7dbd806cecfdd1e">KinectInterface::m_toggleTracking</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00405">405</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad6f3dd6f3dc34c44ef0056407d085408"></a><!-- doxytag: member="KinectInterface::m_userDeviceNumber" ref="ad6f3dd6f3dc34c44ef0056407d085408" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_kinect_interface.html#ad6f3dd6f3dc34c44ef0056407d085408">KinectInterface::m_userDeviceNumber</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>user device number </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00325">325</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a852d95b98effaf033d99ac1adb016f73"></a><!-- doxytag: member="KinectInterface::s_instance" ref="a852d95b98effaf033d99ac1adb016f73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kinect_interface.html">KinectInterface</a> * <a class="el" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73">KinectInterface::s_instance</a> = 0<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>our instance of the <a class="el" href="class_kinect.html">Kinect</a> device </p>

<p>Definition at line <a class="el" href="_kinect_interface_8h_source.html#l00313">313</a> of file <a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_kinect_interface_8h_source.html">KinectInterface.h</a></li>
<li><a class="el" href="_kinect_interface_8cpp_source.html">KinectInterface.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 16 Aug 2013 for KINECT STATS GENERATOR FOR SPORTS VISUALISATION by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
