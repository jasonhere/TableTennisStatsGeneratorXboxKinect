<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>KINECT STATS GENERATOR FOR SPORTS VISUALISATION: KinectInterface.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>KinectInterface.h</h1><a href="_kinect_interface_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * This file is part of the OpenKinect Project. http://www.openkinect.org</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (c) 2010 individual OpenKinect contributors. See the CONTRIB file</span>
<a name="l00005"></a>00005 <span class="comment"> * for details.</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * This code is licensed to you under the terms of the Apache License, version</span>
<a name="l00008"></a>00008 <span class="comment"> * 2.0, or, at your option, the terms of the GNU General Public License,</span>
<a name="l00009"></a>00009 <span class="comment"> * version 2.0. See the APACHE20 and GPL2 files for the text of the licenses,</span>
<a name="l00010"></a>00010 <span class="comment"> * or the following URLs:</span>
<a name="l00011"></a>00011 <span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00012"></a>00012 <span class="comment"> * http://www.gnu.org/licenses/gpl-2.0.txt</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * If you redistribute this file in source form, modified or unmodified, you</span>
<a name="l00015"></a>00015 <span class="comment"> * may:</span>
<a name="l00016"></a>00016 <span class="comment"> *   1) Leave this header intact and distribute it under the same terms,</span>
<a name="l00017"></a>00017 <span class="comment"> *      accompanying it with the APACHE20 and GPL20 files, or</span>
<a name="l00018"></a>00018 <span class="comment"> *   2) Delete the Apache 2.0 clause and accompany it with the GPL2 file, or</span>
<a name="l00019"></a>00019 <span class="comment"> *   3) Delete the GPL v2 clause and accompany it with the APACHE20 file</span>
<a name="l00020"></a>00020 <span class="comment"> * In all cases you must keep the copyright notice intact and include a copy</span>
<a name="l00021"></a>00021 <span class="comment"> * of the CONTRIB file.</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * Binary distributions must follow the binary distribution requirements of</span>
<a name="l00024"></a>00024 <span class="comment"> * either License.</span>
<a name="l00025"></a>00025 <span class="comment"> */</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00031"></a>00031 <span class="comment"></span><span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#ifndef QKINECT_H__</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#define QKINECT_H__</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span><span class="preprocessor">#include &lt;QObject&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;QThread&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;stdexcept&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;QMutex&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;QMutexLocker&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;libfreenect.h&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;opencv2/opencv.hpp&quot;</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00051"></a>00051 <span class="comment"></span><span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="class_q_kinect_process_events.html">00053</a> <span class="keyword">class </span><a class="code" href="class_q_kinect_process_events.html" title="this is the process event thread class it needs to be a class so we can use the Qt...">QKinectProcessEvents</a> : <span class="keyword">public</span> QThread
<a name="l00054"></a>00054 {
<a name="l00055"></a>00055 <span class="keyword">public</span> :
<a name="l00056"></a>00056     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00059"></a>00059 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00060"></a><a class="code" href="class_q_kinect_process_events.html#a3eed9b340d38476909c76cc57b4a544f">00060</a>     <span class="keyword">inline</span> <a class="code" href="class_q_kinect_process_events.html#a3eed9b340d38476909c76cc57b4a544f" title="ctor where we pass in the context of the kinect">QKinectProcessEvents</a>(
<a name="l00061"></a>00061                                                             freenect_context *_ctx
<a name="l00062"></a>00062                                                          )
<a name="l00063"></a>00063                                                             {<a class="code" href="class_q_kinect_process_events.html#adda9321c405fd24004fd07b35838403f" title="the context of the kinect device, this must be set before the thread is run with...">m_ctx</a>=_ctx;}
<a name="l00064"></a>00064     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00067"></a>00067 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00068"></a><a class="code" href="class_q_kinect_process_events.html#a492cc55fcd53ffc1d4d2e4822c9234dc">00068</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_q_kinect_process_events.html#a492cc55fcd53ffc1d4d2e4822c9234dc" title="sets the thread active this will loop the run thread with a while(m_active) setting...">setActive</a>(){<a class="code" href="class_q_kinect_process_events.html#a5ee9f2067a92c34974a9431c845e1150" title="a flag to indicate if the loop is to be active set true in the ctor">m_active</a>=<span class="keyword">true</span>;}
<a name="l00069"></a>00069     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00072"></a>00072 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00073"></a><a class="code" href="class_q_kinect_process_events.html#a0b5a492232dcce352a77a183dab34cb4">00073</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_q_kinect_process_events.html#a0b5a492232dcce352a77a183dab34cb4" title="sets the thread active must call QThread::start again to make this work if the thread...">setInActive</a>(){<a class="code" href="class_q_kinect_process_events.html#a5ee9f2067a92c34974a9431c845e1150" title="a flag to indicate if the loop is to be active set true in the ctor">m_active</a>=<span class="keyword">false</span>;}
<a name="l00074"></a>00074 <span class="keyword">protected</span> :
<a name="l00075"></a>00075     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00078"></a>00078 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00079"></a>00079     <span class="keywordtype">void</span> <a class="code" href="class_q_kinect_process_events.html#a98e46ec84f280b7cb2b7ea17ef3b3e69" title="the actual thread main loop, this is not callable and the QThread::start method of...">run</a>();
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="keyword">private</span> :
<a name="l00082"></a>00082     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00085"></a>00085 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00086"></a><a class="code" href="class_q_kinect_process_events.html#a5ee9f2067a92c34974a9431c845e1150">00086</a>     <span class="keywordtype">bool</span> <a class="code" href="class_q_kinect_process_events.html#a5ee9f2067a92c34974a9431c845e1150" title="a flag to indicate if the loop is to be active set true in the ctor">m_active</a>;
<a name="l00087"></a>00087     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00090"></a>00090 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00091"></a><a class="code" href="class_q_kinect_process_events.html#adda9321c405fd24004fd07b35838403f">00091</a>     freenect_context *<a class="code" href="class_q_kinect_process_events.html#adda9321c405fd24004fd07b35838403f" title="the context of the kinect device, this must be set before the thread is run with...">m_ctx</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 };
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00111"></a>00111 <span class="comment"></span><span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="class_kinect_interface.html">00113</a> <span class="keyword">class </span><a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> : <span class="keyword">public</span> QObject
<a name="l00114"></a>00114 {
<a name="l00115"></a>00115 <span class="comment">// must include this macro so we inherit all the core QT features such as singnals and slots</span>
<a name="l00116"></a>00116 Q_OBJECT
<a name="l00117"></a>00117 <span class="keyword">public</span> :
<a name="l00118"></a>00118 
<a name="l00119"></a>00119     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00125"></a>00125 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00126"></a>00126     <span class="keyword">static</span> <a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> *<a class="code" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of...">instance</a>();
<a name="l00127"></a>00127     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00130"></a>00130 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00131"></a><a class="code" href="class_kinect_interface.html#a1ee9689c8d8249fe7c58109574e55498">00131</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a1ee9689c8d8249fe7c58109574e55498" title="we can set the user device number here by default it will be 1">setUserDeviceNumber</a>(<span class="keywordtype">int</span> _m) {<a class="code" href="class_kinect_interface.html#ad6f3dd6f3dc34c44ef0056407d085408" title="user device number">m_userDeviceNumber</a>=_m;}
<a name="l00132"></a>00132     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00134"></a>00134 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00135"></a>00135     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#ade531f82baadaeefe01f9c3e37340930" title="method to shutdown our device and close">shutDownKinect</a>();
<a name="l00136"></a>00136 
<a name="l00137"></a>00137     <span class="keywordtype">int</span> <a class="code" href="class_kinect_interface.html#ac331af40aa770490f9bc7ae05a5fc588">getThreshold</a>();
<a name="l00138"></a>00138 
<a name="l00139"></a>00139     <span class="comment">// returns the depth value at the given index by looking up</span>
<a name="l00140"></a>00140     <span class="comment">// the depth table</span>
<a name="l00141"></a>00141     <span class="keywordtype">float</span> <a class="code" href="class_kinect_interface.html#a1fe5982072f3293b1c0cf74dc0328afc">getZValue</a>(<span class="keywordtype">int</span> _depthIndex,<span class="keywordtype">int</span> _frameIndex);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     <span class="comment">// this sets the defined bounds into a cv rect</span>
<a name="l00144"></a>00144     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a35118714e940ee81a1d13d825552bc1a">setBoxObject</a>(<span class="keywordtype">int</span> _topX,<span class="keywordtype">int</span> _topY, <span class="keywordtype">int</span> _width, <span class="keywordtype">int</span> _height);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     <span class="comment">// this sets the final bounds defined flag which is queried</span>
<a name="l00147"></a>00147     <span class="comment">// by stats window to stop the timer for looking further</span>
<a name="l00148"></a>00148     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#aab50a8cdc60ad80f8ecbd28b1f6af42b">setBoundsDefined</a>(<span class="keywordtype">bool</span> _isBoundsDefined);
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     <span class="comment">// this returns the defined bounds from the RGB window in a Rect format</span>
<a name="l00151"></a>00151     cv::Rect&amp; <a class="code" href="class_kinect_interface.html#ab9fbbdcce13483657ef3ade7722eaba3">getBoxObject</a>();
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     <span class="comment">// this toggles the tracking flag START/STOP</span>
<a name="l00154"></a>00154     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a49f91219e04f60c9b75f9d7b8a68360e">toggleTracking</a>();
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     <span class="comment">// this tells if the user has pressed start tracking</span>
<a name="l00157"></a>00157     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#a69b1c94d734bfe5a28491d2fb6f70534">getTrackingFlag</a>();
<a name="l00158"></a>00158 
<a name="l00159"></a>00159     <span class="comment">// this tells if the user is refinining bounds</span>
<a name="l00160"></a>00160     <span class="comment">// by right clicking again and again</span>
<a name="l00161"></a>00161     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#a5ca72711b816896860035b9bfe5f51c2">getBounds</a>();
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="keyword">public</span> slots :
<a name="l00165"></a>00165     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00168"></a>00168 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00169"></a>00169     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a8bcb263a8baccc017e37764bcbb43c53" title="slot to change the angle of the Kinect">setAngle</a>(
<a name="l00170"></a>00170                                 <span class="keywordtype">double</span> _angle
<a name="l00171"></a>00171                              );
<a name="l00172"></a>00172     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00174"></a>00174 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00175"></a>00175     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#add145b8666b0b72861cc06df0bb47dbb" title="slot to turn off the led">setLedOff</a>();
<a name="l00176"></a>00176     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00178"></a>00178 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00179"></a>00179     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a3e91820cd20f31e943e38af945de689e" title="slot to enable the red LED">setRedLed</a>();
<a name="l00180"></a>00180     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00182"></a>00182 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00183"></a>00183     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#ac30fbf5db6434a4afa79e435b812d212" title="slot to enable the green LED">setGreenLed</a>();
<a name="l00184"></a>00184     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00186"></a>00186 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00187"></a>00187     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a177a59f3e4f860db0f2286f57884b7a3" title="slot to enable the yellow LED">setYellowLed</a>();
<a name="l00188"></a>00188     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00190"></a>00190 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00191"></a>00191     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#aedd6b9e8d3a5a508cc5021edfc608357" title="slot to flash the red led">setRedLedFlash</a>();
<a name="l00192"></a>00192     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00194"></a>00194 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00195"></a>00195     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a524a26cdd4464ba8846e207d6552f977" title="slot to flash the green led">setGreenLedFlash</a>();
<a name="l00196"></a>00196     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00198"></a>00198 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00199"></a>00199     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#ab920f30201f47f3fb99fdbcbd1d81217" title="slot to flash the yellow led">setYellowLedFlash</a>();
<a name="l00200"></a>00200     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00206"></a>00206 <span class="comment"></span>
<a name="l00207"></a>00207     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00208"></a>00208     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a7120a337446097931e964ed47a4421ce" title="slot to set the video mode">setVideoMode</a>(
<a name="l00209"></a>00209                                         <span class="keywordtype">int</span> _mode
<a name="l00210"></a>00210                                      );
<a name="l00211"></a>00211     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00213"></a>00213 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00214"></a>00214     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#ae65ee9362b2ed21763de02df1e073770" title="reset the tilt angle">resetAngle</a>();
<a name="l00215"></a>00215     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00219"></a>00219 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00220"></a>00220     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#a6196d7609dd3de67aaeda6777ce57d23" title="getDepth buffer and convert it to an RGB colour representation this code is based...">getDepth</a>(cv::Mat &amp;o_buffer
<a name="l00221"></a>00221                              );
<a name="l00222"></a>00222     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00226"></a>00226 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00227"></a>00227     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#af6c36c376554c5debbbcdf4f8384e32e" title="getDepth buffer as the raw values converted to uint8_t not sure if this will be much...">getDepthRaw</a>(
<a name="l00228"></a>00228                                      cv::Mat &amp;o_buffer, <span class="keywordtype">float</span> *o_depthinmBuffer
<a name="l00229"></a>00229                                     );
<a name="l00230"></a>00230     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00234"></a>00234 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00235"></a>00235     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#a24f97f36a57a0f01481a85a57d16ea72" title="getDepth buffer as the raw 16 Bit values this is useful for generating point cloud...">getDepth16Bit</a>(cv::Mat &amp;o_buffer
<a name="l00236"></a>00236                                         );
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 
<a name="l00239"></a>00239     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#a156e7bc1a98606de05c47e13567d71bc">getDepthSliced</a>(cv::Mat &amp;o_buffer
<a name="l00240"></a>00240                                         );
<a name="l00241"></a>00241     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00244"></a>00244 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00245"></a>00245     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#a812d3a247e41f00345c3e48a73abe048" title="get the RGB buffer">getRGB</a>(cv::Mat &amp;o_buffer );
<a name="l00246"></a>00246     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00248"></a>00248 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00249"></a>00249     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#aa6b0220f7d3310199f699a11ad04e1d0" title="start the Depth buffer grabbing subsystem">startDepth</a>();
<a name="l00250"></a>00250     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00252"></a>00252 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00253"></a>00253     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a7b73cfc2d221fdfda087fe6ca5c8cd39" title="stop the Depth buffer grabbing subsystem">stopDepth</a>();
<a name="l00254"></a>00254     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00256"></a>00256 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00257"></a>00257     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#ac175937429aed66eac7a131ba540afb3" title="start the Video buffer grabbing subsystem">startVideo</a>();
<a name="l00258"></a>00258     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00260"></a>00260 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00261"></a>00261     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a0e2c57289a79b81b85d9e5b58e661e1e" title="stop the Depth buffer grabbing subsystem">stopVideo</a>();
<a name="l00262"></a>00262     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00265"></a>00265 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00266"></a>00266     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a9aa2f0af1e2ffdc0f41fd495fc0d4aef" title="convenience method to toggle the video mode with a bool to indicate mode, useful...">toggleVideoState</a>(
<a name="l00267"></a>00267                                                 <span class="keywordtype">bool</span> _mode
<a name="l00268"></a>00268                                              );
<a name="l00269"></a>00269     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00272"></a>00272 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00273"></a>00273     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#aa5ba053afb2c9fcf781e485b825f3d81" title="convenience method to toggle the depth mode with a bool to indicate mode, useful...">toggleDepthState</a>(
<a name="l00274"></a>00274                                                 <span class="keywordtype">bool</span> _mode
<a name="l00275"></a>00275                                              );
<a name="l00276"></a>00276     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00279"></a>00279 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00280"></a><a class="code" href="class_kinect_interface.html#aa4f68cf57fd3a06cba82a892aeeb979d">00280</a>     <span class="keyword">inline</span> freenect_context *<a class="code" href="class_kinect_interface.html#aa4f68cf57fd3a06cba82a892aeeb979d" title="return a pointer to the active device context">getContext</a>(){<span class="keywordflow">return</span> <a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>;}
<a name="l00281"></a>00281 
<a name="l00282"></a>00282     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a2b6acade3bd4b639b7d32e14d7ea4a62">setThreshold</a>(<span class="keywordtype">int</span> _value);
<a name="l00283"></a>00283 
<a name="l00284"></a>00284     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a4e219776c4e21cee93dd67f5d821ad5d">setDepthVolumeLower</a>(<span class="keywordtype">double</span> _inputLowerDepth);
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a84dc4e7c21807ad63bbab4148ccfe0fc">setDepthVolumeHigher</a>(<span class="keywordtype">double</span> _inputHigherDepth);
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 
<a name="l00292"></a>00292 <span class="keyword">private</span> :
<a name="l00293"></a>00293     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00295"></a>00295 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00296"></a>00296     <a class="code" href="class_kinect_interface.html#a4e6462987f57c1ff0e3ed4fe3f7cae10" title="private ctor as we are a singleton class">KinectInterface</a>();
<a name="l00297"></a>00297     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00299"></a>00299 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00300"></a>00300     <a class="code" href="class_kinect_interface.html#a41d55016ae8ebd23b770d6124c5aea27" title="private dtor as we are a singleton class">~KinectInterface</a>();
<a name="l00301"></a>00301     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00303"></a>00303 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00304"></a>00304     Q_DISABLE_COPY(<a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a>)
<a name="l00305"></a>00305     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00308"></a>00308 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00309"></a>00309     bool <a class="code" href="class_kinect_interface.html#a98b9d6c718284304d466c8115d97d0f1" title="private copy ctor as we are a singleton class">init</a>();
<a name="l00310"></a>00310     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00312"></a>00312 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00313"></a><a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73">00313</a>     static <a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> *<a class="code" href="class_kinect_interface.html#a852d95b98effaf033d99ac1adb016f73" title="our instance of the Kinect device">s_instance</a>;
<a name="l00314"></a>00314     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00316"></a>00316 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00317"></a><a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a">00317</a>     freenect_context *<a class="code" href="class_kinect_interface.html#aaa1711822e094f956c2e54ef2230a52a" title="the contex for the device">m_ctx</a>;
<a name="l00318"></a>00318     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00320"></a>00320 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00321"></a><a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036">00321</a>     freenect_device *<a class="code" href="class_kinect_interface.html#a96a7824501cb30683fcff98f33916036" title="our device pointer">m_dev</a>;
<a name="l00322"></a>00322     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00324"></a>00324 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00325"></a><a class="code" href="class_kinect_interface.html#ad6f3dd6f3dc34c44ef0056407d085408">00325</a>     <span class="keywordtype">int</span> <a class="code" href="class_kinect_interface.html#ad6f3dd6f3dc34c44ef0056407d085408" title="user device number">m_userDeviceNumber</a>;
<a name="l00326"></a>00326 
<a name="l00327"></a>00327     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00333"></a>00333 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00334"></a><a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2">00334</a>     cv::Mat <a class="code" href="class_kinect_interface.html#ae31e98852051b1b7fcd47d38173141e2" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepth</a>;
<a name="l00335"></a>00335     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00338"></a>00338 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00339"></a><a class="code" href="class_kinect_interface.html#a1f9d7c8d7ef9e70ece64207267e1af75">00339</a>     cv::Mat <a class="code" href="class_kinect_interface.html#af0f9011f62e90ab66b30a30db870e46d" title="our video buffer for the current rgb video frames will be filled from the rgb callback...">m_bufferVideo</a>,<a class="code" href="class_kinect_interface.html#a9e8f0cf659f0e5f9e3633fb2b1876ea9">m_nextBuffer</a>,<a class="code" href="class_kinect_interface.html#a1f9d7c8d7ef9e70ece64207267e1af75">m_prevBuffer</a>, <a class="code" href="class_kinect_interface.html#a2011b60401918e552d89b984c642703e">m_diffBuffer</a>, <a class="code" href="class_kinect_interface.html#a0beaae30bca59043cccbcff21bbc8772">m_bufferVideoGray</a>;
<a name="l00340"></a>00340     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00345"></a>00345 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00346"></a><a class="code" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680">00346</a>     cv::Mat <a class="code" href="class_kinect_interface.html#af89953fcc5f04b92ba317c2f0a0f6680" title="our depth buffer for the current depth frames will be filled from the depth callback...">m_bufferDepthRaw</a>;
<a name="l00347"></a>00347 
<a name="l00348"></a><a class="code" href="class_kinect_interface.html#a08a8290bb2f445728df5e5c081e114ab">00348</a>     <span class="keywordtype">float</span>  <a class="code" href="class_kinect_interface.html#a08a8290bb2f445728df5e5c081e114ab">m_bufferDepthinM</a>[640 * 480];
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="comment">//std::map&lt;int, float[640*480]&gt; m_originalFrameDepth1;</span>
<a name="l00351"></a>00351     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00354"></a>00354 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00355"></a><a class="code" href="class_kinect_interface.html#ad4bce1c22c201eeca611a43f836bedb7">00355</a>     cv::Mat <a class="code" href="class_kinect_interface.html#ad4bce1c22c201eeca611a43f836bedb7" title="the 16Bit raw depth values, this is good for voxel rendering of the data">m_bufferDepthRaw16</a>;
<a name="l00356"></a>00356 
<a name="l00357"></a>00357     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00360"></a>00360 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00361"></a><a class="code" href="class_kinect_interface.html#ab09abb222064475267cc397e027b47bd">00361</a>     std::vector&lt;<span class="keywordtype">float</span>&gt; <a class="code" href="class_kinect_interface.html#ab09abb222064475267cc397e027b47bd" title="our gamma table this is filled in the ctor and used in the depth callbacks, this...">m_gamma</a>;
<a name="l00362"></a>00362     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00364"></a>00364 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00365"></a><a class="code" href="class_kinect_interface.html#af48b4d61f146ffd61f27bf9c21f2dbd2">00365</a>     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#af48b4d61f146ffd61f27bf9c21f2dbd2" title="flag to indicate if there is a new rgb frame">m_newRgbFrame</a>;
<a name="l00366"></a>00366     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00368"></a>00368 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00369"></a><a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c">00369</a>     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#ae328c2cb818245881e2e98456872759c" title="flag to indicate if there is a new depth frame">m_newDepthFrame</a>;
<a name="l00370"></a>00370     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00372"></a>00372 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00373"></a><a class="code" href="class_kinect_interface.html#aa436800ae911d7675f374627b44937d8">00373</a>     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#aa436800ae911d7675f374627b44937d8" title="flag to indicate if we need to stop the device">m_stopDevice</a>;
<a name="l00374"></a>00374     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00376"></a>00376 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00377"></a><a class="code" href="class_kinect_interface.html#a1c90cd136731712742411214de8acceb">00377</a>     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#a1c90cd136731712742411214de8acceb" title="flag to indicate if the device is active">m_deviceActive</a>;
<a name="l00378"></a>00378 
<a name="l00379"></a>00379   <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00381"></a>00381 <span class="comment"></span>  <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00382"></a><a class="code" href="class_kinect_interface.html#a3f5c05c31e6b0b58c54bbe9df7b31cd9">00382</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_kinect_interface.html#a3f5c05c31e6b0b58c54bbe9df7b31cd9" title="size of the RGB buffer for the current mode">m_resolutionRGBBytes</a>;
<a name="l00383"></a>00383   <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00385"></a>00385 <span class="comment"></span>  <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00386"></a><a class="code" href="class_kinect_interface.html#a36f10fca244ca8382c2d6bcee9132e7a">00386</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_kinect_interface.html#a36f10fca244ca8382c2d6bcee9132e7a" title="size of the depth buffer for the current mode">m_resolutionDepthBytes</a>;
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00390"></a>00390 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00391"></a><a class="code" href="class_kinect_interface.html#a05d888f70ececf3d5da5d0520eb2a2ef">00391</a>     <a class="code" href="class_q_kinect_process_events.html" title="this is the process event thread class it needs to be a class so we can use the Qt...">QKinectProcessEvents</a> *<a class="code" href="class_kinect_interface.html#a05d888f70ececf3d5da5d0520eb2a2ef" title="pointer to our thread process used to process the events">m_process</a>;
<a name="l00392"></a>00392     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00395"></a>00395 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00396"></a><a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9">00396</a>     QMutex <a class="code" href="class_kinect_interface.html#a02e2504b52eb0e0f94d0a89a884107a9" title="our mutex used for the threaded processes, for ease we use a QMutexLocker to automagically...">m_mutex</a>;
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 
<a name="l00399"></a><a class="code" href="class_kinect_interface.html#aedd939dc1a2a20fa61fa436c0598790d">00399</a>     <span class="keywordtype">int</span> <a class="code" href="class_kinect_interface.html#aedd939dc1a2a20fa61fa436c0598790d">m_threshValue</a>;
<a name="l00400"></a>00400 
<a name="l00401"></a><a class="code" href="class_kinect_interface.html#a003069902ab58ac52a8246eb9cb45b86">00401</a>     <span class="keywordtype">double</span> <a class="code" href="class_kinect_interface.html#a003069902ab58ac52a8246eb9cb45b86">m_depthLower</a>, <a class="code" href="class_kinect_interface.html#a521eefa3b5b51e2724edaf0df52bb5b4">m_depthHigher</a>;
<a name="l00402"></a>00402 
<a name="l00403"></a><a class="code" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">00403</a>     cv::Rect <a class="code" href="class_kinect_interface.html#a29e0604131a3c9c2552b9bc4488caec4">m_selectedBoxCoords</a>;
<a name="l00404"></a>00404 
<a name="l00405"></a><a class="code" href="class_kinect_interface.html#a5ace07ec14c58fddf7dbd806cecfdd1e">00405</a>     <span class="keywordtype">bool</span> <a class="code" href="class_kinect_interface.html#a5ace07ec14c58fddf7dbd806cecfdd1e">m_toggleTracking</a>,<a class="code" href="class_kinect_interface.html#aa2f9c4cb2e1d63b8f5d2b7967e774d51">m_setBounds</a>;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 
<a name="l00408"></a>00408     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00413"></a>00413 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00414"></a>00414     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a899cee18eb0c60cb33dca8d5ed05c613" title="function for depth callback this hooks into the libfreenect callback system">depthFunc</a>(
<a name="l00415"></a>00415                                     freenect_device *_dev,
<a name="l00416"></a>00416                                     <span class="keywordtype">void</span> *o_depth,
<a name="l00417"></a>00417                                     uint32_t _timestamp
<a name="l00418"></a>00418                                 );
<a name="l00419"></a>00419     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00424"></a>00424 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00425"></a>00425     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#af809530c3a165f2c2e1d84959578697c" title="function for Video callback this hooks into the libfreenect callback system">rgbFunc</a>(
<a name="l00426"></a>00426                                 freenect_device *_dev,
<a name="l00427"></a>00427                                 <span class="keywordtype">void</span> *o_rgb,
<a name="l00428"></a>00428                                 uint32_t _timestamp
<a name="l00429"></a>00429                             );
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 
<a name="l00432"></a>00432     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00438"></a>00438 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00439"></a>00439     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a94998433b4c199f8fc167f7d5abd0262" title="method to grab the depth passed to the depthCallback function as we are hooking into...">grabDepth</a>(
<a name="l00440"></a>00440                                     <span class="keywordtype">void</span> *_depth,
<a name="l00441"></a>00441                                     uint32_t timestamp
<a name="l00442"></a>00442                                 );
<a name="l00443"></a>00443     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00449"></a>00449 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00450"></a>00450     <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a350fab4e013ae9ebba93951e0c0ae097" title="method to grab the Video passed to the depthCallback function as we are hooking into...">grabVideo</a>(
<a name="l00451"></a>00451                                     <span class="keywordtype">void</span> *_video,
<a name="l00452"></a>00452                                     uint32_t timestamp
<a name="l00453"></a>00453                                 );
<a name="l00454"></a>00454     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00460"></a>00460 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00461"></a><a class="code" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84">00461</a>     static inline <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#a87b442a4f36e646fd9f0d27509030f84" title="this hooks into the feenet callback system an is the main way of getting the data...">depthCallback</a>(
<a name="l00462"></a>00462                                                                      freenect_device *_dev,
<a name="l00463"></a>00463                                                                      <span class="keywordtype">void</span> *_depth,
<a name="l00464"></a>00464                                                                      uint32_t _timestamp=0
<a name="l00465"></a>00465                                                                     )
<a name="l00466"></a>00466     {
<a name="l00467"></a>00467         Q_UNUSED(_dev);
<a name="l00468"></a>00468 
<a name="l00470"></a>00470         <a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> *kinect=<a class="code" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of...">KinectInterface::instance</a>();
<a name="l00472"></a>00472         kinect-&gt;<a class="code" href="class_kinect_interface.html#a94998433b4c199f8fc167f7d5abd0262" title="method to grab the depth passed to the depthCallback function as we are hooking into...">grabDepth</a>(_depth,_timestamp);
<a name="l00473"></a>00473     }
<a name="l00474"></a>00474     <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00480"></a>00480 <span class="comment"></span>    <span class="comment">//----------------------------------------------------------------------------------------------------------------------</span>
<a name="l00481"></a>00481 
<a name="l00482"></a><a class="code" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a">00482</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_kinect_interface.html#aa08ef063072d6dd62b72507c87fa689a" title="this hooks into the feenet callback system an is the main way of getting the data...">videoCallback</a>(
<a name="l00483"></a>00483                                                                      freenect_device *_dev,
<a name="l00484"></a>00484                                                                      <span class="keywordtype">void</span> *_video,
<a name="l00485"></a>00485                                                                      uint32_t _timestamp=0
<a name="l00486"></a>00486                                                                     )
<a name="l00487"></a>00487     {
<a name="l00488"></a>00488         Q_UNUSED(_dev);
<a name="l00489"></a>00489 
<a name="l00491"></a>00491         <a class="code" href="class_kinect_interface.html" title="this class wraps the libfreenect library as a QObject this allows us to use singals...">KinectInterface</a> *kinect=<a class="code" href="class_kinect_interface.html#a13c9a56bd98aaf46329914b7323944c7" title="get the instance of the KinectInterface object this will call the init method of...">KinectInterface::instance</a>();
<a name="l00493"></a>00493         kinect-&gt;<a class="code" href="class_kinect_interface.html#a350fab4e013ae9ebba93951e0c0ae097" title="method to grab the Video passed to the depthCallback function as we are hooking into...">grabVideo</a>(_video, _timestamp);
<a name="l00494"></a>00494     }
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 
<a name="l00497"></a>00497 
<a name="l00498"></a>00498 
<a name="l00499"></a>00499 };
<a name="l00500"></a>00500 
<a name="l00501"></a>00501 
<a name="l00502"></a>00502 
<a name="l00503"></a>00503 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 16 Aug 2013 for KINECT STATS GENERATOR FOR SPORTS VISUALISATION by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
