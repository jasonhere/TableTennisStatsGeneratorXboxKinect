<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>KINECT STATS GENERATOR FOR SPORTS VISUALISATION: ThreeDStatsGeneration Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ThreeDStatsGeneration Class Reference</h1><!-- doxytag: class="ThreeDStatsGeneration" -->
<p><code>#include &lt;<a class="el" href="_three_d_stats_generation_8h_source.html">ThreeDStatsGeneration.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ThreeDStatsGeneration:</div>
<div class="dynsection">
<div class="center"><img src="class_three_d_stats_generation__coll__graph.png" border="0" usemap="#_three_d_stats_generation_coll__map" alt="Collaboration graph"/></div>
<map name="_three_d_stats_generation_coll__map" id="_three_d_stats_generation_coll__map">
<area shape="rect" id="node2" href="class_quad_curve_fit_utility.html" title="{QuadCurveFitUtility\n|# m_dataPoints\l# m_dataPointsAfterInterpol\l# m_hermiteInterPolPts\l# m_dataPointsHermite\l# m_a\l# m_b\l# m_c\l# m_steps\l# m_noOfPoints\l|+ QuadCurveFitUtility()\l+ ~QuadCurveFitUtility()\l+ getInterPolPts()\l+ addPoints()\l+ processPoints()\l+ processParametricPoints()\l+ processParametricPoints3D()\l+ getATerm()\l+ getBTerm()\l+ getCTerm()\l+ getRSquare()\l# getSxy()\l# getYMean()\l# getSStot()\l# getSSerr()\l# getPredictedY()\l# calculateHermiteCurvePts()\l# splinterp()\l# getDifferential()\l}" alt="" coords="55,5,287,541"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_three_d_stats_generation-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#ad82e74c7730ad207ff31bc9a977efbf9">ThreeDStatsGeneration</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#a7091bf23c334238c4e5a14f606133609">~ThreeDStatsGeneration</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#a482104e2d115cb7db0911553595833f2">generatePitchDensityGraphData</a> (cv::Point &amp;_userDefinedTopXY, int _userDefinedWidth, int _userDefinedHeight, int _gridResolution, std::vector&lt; cv::Point &gt; &amp;_playerImpactPtsAllRallies, std::vector&lt; cv::Point3f &gt; &amp;o_verticesSetOfCubeBarsGraph)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#a152c5a60c2297fbffa8dc13b7d9d7848">generateInterpolatedDataForAllRallies</a> (std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;_inputPlayerBallPts, std::vector&lt; std::vector&lt; int &gt; &gt; &amp;_playerDeepestPtIndices, float _inputDistanceFrmKinectToPlayArea, std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;o_interpPlayerBallPts, std::vector&lt; float &gt; &amp;o_speedData)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#afe562d33c0837eba4df9ed61f24608c9">calculatePlayerImpactPtsIn3DFromIndices</a> (std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;_inputPlayerBallPts, std::vector&lt; std::vector&lt; int &gt; &gt; &amp;_playerDeepestPtIndices, std::vector&lt; cv::Point3f &gt; &amp;o_playerImpactPtsAllRallies3D)</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#a14b5f137135e666bf5b0a34862e2a3da">convertToWorldFromScreen</a> (std::vector&lt; cv::Point3f &gt; &amp;_inputPointVec, std::vector&lt; cv::Point3f &gt; &amp;o_PointsInWorld, float _inputDistanceFrmKinectToPlayArea)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#aec1a14f2f6dd1e80c7d8f4dbbb331778">m_quadFitX</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#ab9fbf89612df9a66ddc2774b50aa001c">m_quadFitY</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_three_d_stats_generation.html#abba9aa2ca7fa59988d880354f24789eb">m_quadFitZ</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="_three_d_stats_generation_8h_source.html#l00015">15</a> of file <a class="el" href="_three_d_stats_generation_8h_source.html">ThreeDStatsGeneration.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad82e74c7730ad207ff31bc9a977efbf9"></a><!-- doxytag: member="ThreeDStatsGeneration::ThreeDStatsGeneration" ref="ad82e74c7730ad207ff31bc9a977efbf9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ThreeDStatsGeneration::ThreeDStatsGeneration </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8cpp_source.html#l00008">8</a> of file <a class="el" href="_three_d_stats_generation_8cpp_source.html">ThreeDStatsGeneration.cpp</a>.</p>

<p>References <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitX</a>, <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitY</a>, and <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitZ</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00009"></a>00009 {
<a name="l00010"></a>00010     <a class="code" href="class_three_d_stats_generation.html#aec1a14f2f6dd1e80c7d8f4dbbb331778">m_quadFitX</a> = <span class="keyword">new</span> <a class="code" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a>();
<a name="l00011"></a>00011     <a class="code" href="class_three_d_stats_generation.html#ab9fbf89612df9a66ddc2774b50aa001c">m_quadFitY</a> = <span class="keyword">new</span> <a class="code" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a>();
<a name="l00012"></a>00012     <a class="code" href="class_three_d_stats_generation.html#abba9aa2ca7fa59988d880354f24789eb">m_quadFitZ</a> = <span class="keyword">new</span> <a class="code" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a>();
<a name="l00013"></a>00013 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7091bf23c334238c4e5a14f606133609"></a><!-- doxytag: member="ThreeDStatsGeneration::~ThreeDStatsGeneration" ref="a7091bf23c334238c4e5a14f606133609" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ThreeDStatsGeneration::~ThreeDStatsGeneration </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8cpp_source.html#l00015">15</a> of file <a class="el" href="_three_d_stats_generation_8cpp_source.html">ThreeDStatsGeneration.cpp</a>.</p>

<p>References <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitX</a>, <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitY</a>, and <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitZ</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00016"></a>00016 {
<a name="l00017"></a>00017     <span class="keyword">delete</span> <a class="code" href="class_three_d_stats_generation.html#aec1a14f2f6dd1e80c7d8f4dbbb331778">m_quadFitX</a>;
<a name="l00018"></a>00018     <span class="keyword">delete</span> <a class="code" href="class_three_d_stats_generation.html#ab9fbf89612df9a66ddc2774b50aa001c">m_quadFitY</a>;
<a name="l00019"></a>00019     <span class="keyword">delete</span> <a class="code" href="class_three_d_stats_generation.html#abba9aa2ca7fa59988d880354f24789eb">m_quadFitZ</a>;
<a name="l00020"></a>00020 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="afe562d33c0837eba4df9ed61f24608c9"></a><!-- doxytag: member="ThreeDStatsGeneration::calculatePlayerImpactPtsIn3DFromIndices" ref="afe562d33c0837eba4df9ed61f24608c9" args="(std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;_inputPlayerBallPts, std::vector&lt; std::vector&lt; int &gt; &gt; &amp;_playerDeepestPtIndices, std::vector&lt; cv::Point3f &gt; &amp;o_playerImpactPtsAllRallies3D)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreeDStatsGeneration::calculatePlayerImpactPtsIn3DFromIndices </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>_inputPlayerBallPts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>_playerDeepestPtIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point3f &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>o_playerImpactPtsAllRallies3D</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8cpp_source.html#l00539">539</a> of file <a class="el" href="_three_d_stats_generation_8cpp_source.html">ThreeDStatsGeneration.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00542"></a>00542 {
<a name="l00543"></a>00543     <span class="keywordflow">if</span>(_playerDeepestPtIndices.size() != 0)
<a name="l00544"></a>00544     {
<a name="l00545"></a>00545         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0;i&lt;_playerDeepestPtIndices.size();i++)
<a name="l00546"></a>00546         {
<a name="l00547"></a>00547             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;_playerDeepestPtIndices[i].size();j++)
<a name="l00548"></a>00548             {
<a name="l00549"></a>00549 
<a name="l00550"></a>00550                 <span class="comment">// if the impact point index is not -1, then there is an impact point for this rally</span>
<a name="l00551"></a>00551                 <span class="keywordflow">if</span>(_playerDeepestPtIndices[i][j] != -1)
<a name="l00552"></a>00552                 {
<a name="l00553"></a>00553 
<a name="l00554"></a>00554 
<a name="l00555"></a>00555 
<a name="l00556"></a>00556                     <span class="keywordtype">float</span> x = (_inputPlayerBallPts[i][_playerDeepestPtIndices[i][j]].x/640 - 0.5) *
<a name="l00557"></a>00557                               _inputPlayerBallPts[i][_playerDeepestPtIndices[i][j]].z * 1.111467f;
<a name="l00558"></a>00558 
<a name="l00559"></a>00559                     <span class="keywordtype">float</span> y = (0.5 - _inputPlayerBallPts[i][_playerDeepestPtIndices[i][j]].y/480) *
<a name="l00560"></a>00560                                _inputPlayerBallPts[i][_playerDeepestPtIndices[i][j]].z * 0.833599f;
<a name="l00561"></a>00561 
<a name="l00562"></a>00562                     <span class="comment">// the plane is going to be at 0,0,0 only</span>
<a name="l00563"></a>00563                     <span class="comment">// and the Y is going to be 0 as this is going to be a projection of</span>
<a name="l00564"></a>00564                     <span class="comment">// XY of pixels into XZ in opengl but in world coords as opposed to</span>
<a name="l00565"></a>00565                     <span class="comment">// pixel coords</span>
<a name="l00566"></a>00566                     <span class="comment">// remeber this is scaled up to 10</span>
<a name="l00567"></a>00567                     o_playerImpactPtsAllRallies3D.push_back(cv::Point3f(10 * x,0.0,-(10 * y)));
<a name="l00568"></a>00568                 }
<a name="l00569"></a>00569                 <span class="keywordflow">else</span>
<a name="l00570"></a>00570                 {
<a name="l00571"></a>00571                     std::cout&lt;&lt;<span class="stringliteral">&quot;No impact point for Rally number:&quot;</span>&lt;&lt;i&lt;&lt;<span class="stringliteral">&quot;..so skipping to next rally.\n&quot;</span>;
<a name="l00572"></a>00572                 }
<a name="l00573"></a>00573 
<a name="l00574"></a>00574             }
<a name="l00575"></a>00575         }
<a name="l00576"></a>00576     }
<a name="l00577"></a>00577     <span class="keywordflow">else</span>
<a name="l00578"></a>00578     {
<a name="l00579"></a>00579         std::cout&lt;&lt;<span class="stringliteral">&quot;No data in indices array for the player.\n&quot;</span>;
<a name="l00580"></a>00580     }
<a name="l00581"></a>00581 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_three_d_stats_generation_afe562d33c0837eba4df9ed61f24608c9_icgraph.png" border="0" usemap="#class_three_d_stats_generation_afe562d33c0837eba4df9ed61f24608c9_icgraph_map" alt=""></div>
<map name="class_three_d_stats_generation_afe562d33c0837eba4df9ed61f24608c9_icgraph_map" id="class_three_d_stats_generation_afe562d33c0837eba4df9ed61f24608c9_icgraph">
<area shape="rect" id="node3" href="class_player_data.html#a0bf43961a36f6d581a0b3127e1e12106" title="PlayerData::getPlayerImpactPtsIn3DAllRallies" alt="" coords="535,32,868,61"/><area shape="rect" id="node5" href="class_stats_visualization.html#a4a890c9e9875db2cd2a853455ffdf07c" title="StatsVisualization::buildRPMData" alt="" coords="921,5,1167,35"/><area shape="rect" id="node13" href="class_stats_visualization.html#af6f059400248796a411492c73b8b780f" title="StatsVisualization::buildSpeedMap" alt="" coords="919,59,1169,88"/><area shape="rect" id="node7" href="class_stats_visualization.html#abf72212e10e0facce24b8d7c2f53b08e" title="StatsVisualization::drawEntireScene" alt="" coords="1219,5,1485,35"/><area shape="rect" id="node11" href="class_stats_visualization.html#ad2d64d2943e09af7341fd4ae6e15ee07" title="StatsVisualization::writeFile" alt="" coords="1248,59,1456,88"/><area shape="rect" id="node9" href="class_stats_visualization.html#a5b3fcea08e858ae1516a0c7a62ec0c1c" title="this is the main gl drawing routine which is called whenever the window needs to..." alt="" coords="1535,5,1737,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14b5f137135e666bf5b0a34862e2a3da"></a><!-- doxytag: member="ThreeDStatsGeneration::convertToWorldFromScreen" ref="a14b5f137135e666bf5b0a34862e2a3da" args="(std::vector&lt; cv::Point3f &gt; &amp;_inputPointVec, std::vector&lt; cv::Point3f &gt; &amp;o_PointsInWorld, float _inputDistanceFrmKinectToPlayArea)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreeDStatsGeneration::convertToWorldFromScreen </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; cv::Point3f &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>_inputPointVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point3f &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>o_PointsInWorld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>_inputDistanceFrmKinectToPlayArea</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8cpp_source.html#l00482">482</a> of file <a class="el" href="_three_d_stats_generation_8cpp_source.html">ThreeDStatsGeneration.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00483"></a>00483 {
<a name="l00484"></a>00484     <span class="comment">// THIS IS TAKEN FROM THE OPENCV WIKI PAGE...</span>
<a name="l00485"></a>00485     <span class="comment">// ALTERNATIVELY, THE TANGENT FORMULAE IN THE IMAGE SAVED IN DESKTOP CAN ALSO BE USED...DO THIS LATER IF ACCURACY SEEMS MISSING</span>
<a name="l00486"></a>00486     <span class="comment">// or from this blog http://magicalkinect.wordpress.com/2013/02/16/metric-measuring-using-kinect/</span>
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 <span class="comment">//    float minDistance = -10;</span>
<a name="l00489"></a>00489 <span class="comment">//    float scaleFactor = 0.0021;</span>
<a name="l00490"></a>00490 <span class="comment">//    float x = (_iScreen - 640 / 2) * (_zDepth + minDistance) * scaleFactor * (640/480);</span>
<a name="l00491"></a>00491 <span class="comment">//    float y = (_jScreen - 480 / 2) * (_zDepth + minDistance) * scaleFactor;</span>
<a name="l00492"></a>00492 
<a name="l00493"></a>00493     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;_inputPointVec.size();i++)
<a name="l00494"></a>00494     {
<a name="l00495"></a>00495         <span class="keywordtype">float</span> x = (_inputPointVec[i].x/640 - 0.5) * _inputPointVec[i].z * 1.111467f;
<a name="l00496"></a>00496         <span class="keywordtype">float</span> y = (0.5 - _inputPointVec[i].y/480) * _inputPointVec[i].z * 0.833599f;
<a name="l00497"></a>00497 
<a name="l00498"></a>00498         <span class="comment">// we can dereference and assign instead of push back because</span>
<a name="l00499"></a>00499         <span class="comment">// we have resized this vector in the parent function</span>
<a name="l00500"></a>00500 
<a name="l00501"></a>00501         <span class="comment">// my conversion in the view of the kinect</span>
<a name="l00502"></a>00502         <span class="comment">//o_PointsInWorld[i] = cv::Point3f(-(y),(1 - _inputPointVec[i].z),-x);</span>
<a name="l00503"></a>00503 
<a name="l00504"></a>00504         <span class="comment">// this should actually be ditancefromkinecttotable - z as the table is at 0.762</span>
<a name="l00505"></a>00505         <span class="comment">// so if the ball is at 0.762 from kinect it will be 0 frm the table</span>
<a name="l00506"></a>00506         <span class="comment">// if its at 0.562 from the kinect, it would be at 0.2 from the table</span>
<a name="l00507"></a>00507         o_PointsInWorld[i] = cv::Point3f((x),fabs(_inputDistanceFrmKinectToPlayArea - _inputPointVec[i].z),-(y));
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00510"></a>00510 <span class="comment">//    float temp = (58.12/2) * (3.14/180);</span>
<a name="l00511"></a>00511 <span class="comment">//    std::cout&lt;&lt;&quot;..........&quot;&lt;&lt; (2 * tan(temp));</span>
<a name="l00512"></a>00512 
<a name="l00513"></a>00513  <span class="comment">//   std::cout&lt;&lt;&quot; X, Y and Z are:&quot;&lt;&lt;x&lt;&lt;&quot;::&quot;&lt;&lt;y&lt;&lt;&quot;::&quot;&lt;&lt;_zDepth&lt;&lt;&quot;\n&quot;;</span>
<a name="l00514"></a>00514 
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 
<a name="l00517"></a>00517    <span class="comment">// m_ballPoints.push_back(cv::Point3f(x,y,(_zDepth)));</span>
<a name="l00518"></a>00518 
<a name="l00519"></a>00519 
<a name="l00520"></a>00520 
<a name="l00521"></a>00521 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_three_d_stats_generation_a14b5f137135e666bf5b0a34862e2a3da_icgraph.png" border="0" usemap="#class_three_d_stats_generation_a14b5f137135e666bf5b0a34862e2a3da_icgraph_map" alt=""></div>
<map name="class_three_d_stats_generation_a14b5f137135e666bf5b0a34862e2a3da_icgraph_map" id="class_three_d_stats_generation_a14b5f137135e666bf5b0a34862e2a3da_icgraph">
<area shape="rect" id="node3" href="class_three_d_stats_generation.html#a152c5a60c2297fbffa8dc13b7d9d7848" title="ThreeDStatsGeneration::generateInterpolatedDataForAllRallies" alt="" coords="433,59,887,88"/><area shape="rect" id="node5" href="class_player_data.html#a43dfc103a6b01cb7ed156201700973e7" title="PlayerData::getPlayerInterpolatedBallPtsAll" alt="" coords="936,5,1256,35"/><area shape="rect" id="node15" href="class_player_data.html#ac2d538334ac426b8b35dd5d46296d80a" title="PlayerData::getPlayerSpeedData" alt="" coords="971,59,1221,88"/><area shape="rect" id="node21" href="class_player_data.html#a9acc525bfe75a976266ba83f5bc4a5da" title="PlayerData::getRevolutionsPerMinute" alt="" coords="956,112,1236,141"/><area shape="rect" id="node7" href="class_stats_visualization.html#a57cd69736123c4e0e61d8e09df61ac9c" title="StatsVisualization::buildTrajectory" alt="" coords="1305,5,1556,35"/><area shape="rect" id="node9" href="class_stats_visualization.html#abf72212e10e0facce24b8d7c2f53b08e" title="StatsVisualization::drawEntireScene" alt="" coords="1605,32,1872,61"/><area shape="rect" id="node13" href="class_stats_visualization.html#ad2d64d2943e09af7341fd4ae6e15ee07" title="StatsVisualization::writeFile" alt="" coords="1635,85,1843,115"/><area shape="rect" id="node11" href="class_stats_visualization.html#a5b3fcea08e858ae1516a0c7a62ec0c1c" title="this is the main gl drawing routine which is called whenever the window needs to..." alt="" coords="1921,32,2124,61"/><area shape="rect" id="node17" href="class_stats_visualization.html#af6f059400248796a411492c73b8b780f" title="StatsVisualization::buildSpeedMap" alt="" coords="1305,59,1556,88"/><area shape="rect" id="node23" href="class_stats_visualization.html#a4a890c9e9875db2cd2a853455ffdf07c" title="StatsVisualization::buildRPMData" alt="" coords="1308,112,1553,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a152c5a60c2297fbffa8dc13b7d9d7848"></a><!-- doxytag: member="ThreeDStatsGeneration::generateInterpolatedDataForAllRallies" ref="a152c5a60c2297fbffa8dc13b7d9d7848" args="(std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;_inputPlayerBallPts, std::vector&lt; std::vector&lt; int &gt; &gt; &amp;_playerDeepestPtIndices, float _inputDistanceFrmKinectToPlayArea, std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;o_interpPlayerBallPts, std::vector&lt; float &gt; &amp;o_speedData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreeDStatsGeneration::generateInterpolatedDataForAllRallies </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>_inputPlayerBallPts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>_playerDeepestPtIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>_inputDistanceFrmKinectToPlayArea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>o_interpPlayerBallPts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>o_speedData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8cpp_source.html#l00196">196</a> of file <a class="el" href="_three_d_stats_generation_8cpp_source.html">ThreeDStatsGeneration.cpp</a>.</p>

<p>References <a class="el" href="_quad_curve_fit_utility_8cpp_source.html#l00036">QuadCurveFitUtility::addPoints()</a>, <a class="el" href="_three_d_stats_generation_8cpp_source.html#l00006">compare3FOnX()</a>, <a class="el" href="_three_d_stats_generation_8cpp_source.html#l00482">convertToWorldFromScreen()</a>, <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitX</a>, <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitY</a>, <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">m_quadFitZ</a>, and <a class="el" href="_quad_curve_fit_utility_8cpp_source.html#l00353">QuadCurveFitUtility::processParametricPoints3D()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00201"></a>00201 {
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <span class="keywordtype">int</span> tempFirstIndex = 0;
<a name="l00204"></a>00204     <span class="keywordtype">int</span> tempLastIndex = 0;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     <span class="keywordtype">float</span> paramT = 0.0;
<a name="l00207"></a>00207 
<a name="l00208"></a>00208     <span class="keywordtype">float</span> deltaT = 0.0;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210     <span class="comment">// coeffs for velocity calculation</span>
<a name="l00211"></a>00211     <span class="keywordtype">float</span> coeffX,coeffY,coeffZ;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213     coeffX = coeffY = coeffZ = 0.0;
<a name="l00214"></a>00214 
<a name="l00215"></a>00215     <span class="keywordtype">float</span> tempVelocity = 0.0;
<a name="l00216"></a>00216     <span class="keywordtype">float</span> tempCoeffSquared = 0.0;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218   <span class="comment">/*  magnet::math::Spline splineX,splineY,splineZ;</span>
<a name="l00219"></a>00219 <span class="comment"></span>
<a name="l00220"></a>00220 <span class="comment">    splineX.clear();</span>
<a name="l00221"></a>00221 <span class="comment">    splineY.clear();</span>
<a name="l00222"></a>00222 <span class="comment">    splineZ.clear();*/</span>
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 
<a name="l00225"></a>00225     <span class="comment">// for each rally</span>
<a name="l00226"></a>00226     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;_inputPlayerBallPts.size();i++)
<a name="l00227"></a>00227     {
<a name="l00228"></a>00228 
<a name="l00229"></a>00229 
<a name="l00230"></a>00230         <span class="comment">// if there is no data in the depth point for this rally,</span>
<a name="l00231"></a>00231         <span class="comment">// then we have come to the end dummy space which we</span>
<a name="l00232"></a>00232         <span class="comment">// pushed in for rally direction change in ballprocessing</span>
<a name="l00233"></a>00233         <span class="keywordflow">if</span>(_playerDeepestPtIndices[i].size() == 0)
<a name="l00234"></a>00234         {
<a name="l00235"></a>00235             <span class="keywordflow">continue</span>;
<a name="l00236"></a>00236         }
<a name="l00237"></a>00237         <span class="comment">// allocate data for our grand big interpolated data</span>
<a name="l00238"></a>00238         <span class="comment">// for this rally</span>
<a name="l00239"></a>00239         o_interpPlayerBallPts.push_back(std::vector&lt;cv::Point3f&gt;());
<a name="l00240"></a>00240         o_interpPlayerBallPts[i].clear();
<a name="l00241"></a>00241 
<a name="l00242"></a>00242         <span class="comment">// allocate data correspondingly for our velocity</span>
<a name="l00243"></a>00243         <span class="comment">// for the current rally impact points</span>
<a name="l00244"></a>00244         <span class="comment">//o_speedData.push_back(std::vector&lt;float&gt; ());</span>
<a name="l00245"></a>00245         <span class="comment">//o_speedData[i].clear();</span>
<a name="l00246"></a>00246 
<a name="l00247"></a>00247         <span class="comment">// for each depth point in the current rally,</span>
<a name="l00248"></a>00248         <span class="comment">// extract from rally[j] to rally[j+1]</span>
<a name="l00249"></a>00249         <span class="comment">// execute this for depthsize + 1 as we need to extract from one start depth</span>
<a name="l00250"></a>00250         <span class="comment">// to another depth..so we need j and j+1 always</span>
<a name="l00251"></a>00251         <span class="comment">// we will understand when we write the code////note to self: fill this comment</span>
<a name="l00252"></a>00252         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;(_playerDeepestPtIndices[i].size() + 1);j++)
<a name="l00253"></a>00253         {
<a name="l00254"></a>00254             <span class="comment">// when j == size - 1</span>
<a name="l00255"></a>00255             <span class="comment">// then we need to extract the rest from _inputpoints[j] until _inputpoints[_inputpoints.size - 1]</span>
<a name="l00256"></a>00256             <span class="comment">//tempFirstIndex = j;</span>
<a name="l00257"></a>00257 
<a name="l00258"></a>00258             <span class="keywordflow">if</span>(j == 0)
<a name="l00259"></a>00259             {
<a name="l00260"></a>00260                 tempFirstIndex = j;
<a name="l00261"></a>00261                 <span class="keywordflow">if</span>(_playerDeepestPtIndices[i][j] != -1)
<a name="l00262"></a>00262                 {
<a name="l00263"></a>00263                     tempLastIndex = _playerDeepestPtIndices[i][j];
<a name="l00264"></a>00264                 }
<a name="l00265"></a>00265                 <span class="comment">// if -1, then no impact data detected for this rally, so extract from first to last of the rally</span>
<a name="l00266"></a>00266                 <span class="comment">// nothing in intermediate</span>
<a name="l00267"></a>00267                 <span class="keywordflow">else</span>
<a name="l00268"></a>00268                 {
<a name="l00269"></a>00269                     tempLastIndex = (_inputPlayerBallPts[i].size() - 1);
<a name="l00270"></a>00270                 }
<a name="l00271"></a>00271             }
<a name="l00272"></a>00272             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j == _playerDeepestPtIndices[i].size())
<a name="l00273"></a>00273             {
<a name="l00274"></a>00274                 tempFirstIndex = _playerDeepestPtIndices[i][(j-1)];
<a name="l00275"></a>00275                 tempLastIndex = (_inputPlayerBallPts[i].size() - 1);
<a name="l00276"></a>00276             }
<a name="l00277"></a>00277             <span class="keywordflow">else</span>
<a name="l00278"></a>00278             {
<a name="l00279"></a>00279                 tempFirstIndex = _playerDeepestPtIndices[i][(j-1)];
<a name="l00280"></a>00280                 tempLastIndex = _playerDeepestPtIndices[i][j];
<a name="l00281"></a>00281             }
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 
<a name="l00284"></a>00284             std::vector&lt;cv::Point3f&gt;::const_iterator first = _inputPlayerBallPts[i].begin() + tempFirstIndex;
<a name="l00285"></a>00285             std::vector&lt;cv::Point3f&gt;::const_iterator last = _inputPlayerBallPts[i].begin() + tempLastIndex + 1;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287             std::vector&lt;cv::Point3f&gt; tempExtractedPts(first,last);
<a name="l00288"></a>00288 
<a name="l00289"></a>00289             <span class="comment">// sort this temp vector of 3fs</span>
<a name="l00290"></a>00290             std::sort(tempExtractedPts.begin(),tempExtractedPts.end(),<a class="code" href="_three_d_stats_generation_8cpp.html#a6f72b23d2dc763628cb892762eafc3a2">compare3FOnX</a>); <span class="comment">// need to check if this really compares</span>
<a name="l00291"></a>00291 
<a name="l00292"></a>00292             std::vector&lt;cv::Point3f&gt; tempExtractedPtsInWorldCoords;
<a name="l00293"></a>00293             tempExtractedPtsInWorldCoords.resize(tempExtractedPts.size());
<a name="l00294"></a>00294             <span class="comment">// convert to world coords before interpolating</span>
<a name="l00295"></a>00295             <a class="code" href="class_three_d_stats_generation.html#a14b5f137135e666bf5b0a34862e2a3da">convertToWorldFromScreen</a>(tempExtractedPts,tempExtractedPtsInWorldCoords, _inputDistanceFrmKinectToPlayArea);
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 
<a name="l00298"></a>00298             <span class="comment">// 3 buffers for interpX,interpY, interpZ</span>
<a name="l00299"></a>00299             std::vector&lt;float&gt; _bufferX,_bufferY,_bufferZ;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301             _bufferX.clear();
<a name="l00302"></a>00302             _bufferY.clear();
<a name="l00303"></a>00303             _bufferZ.clear();
<a name="l00304"></a>00304 
<a name="l00305"></a>00305             paramT = 0.0;
<a name="l00306"></a>00306             deltaT = 0.0;
<a name="l00307"></a>00307 
<a name="l00308"></a>00308             <span class="comment">// for each extracted stream different coeffs, so reset to 0</span>
<a name="l00309"></a>00309             coeffX = coeffY  = coeffZ = 0.0;
<a name="l00310"></a>00310 
<a name="l00311"></a>00311            <span class="comment">/* splineX.clear();</span>
<a name="l00312"></a>00312 <span class="comment">            splineY.clear();</span>
<a name="l00313"></a>00313 <span class="comment">            splineZ.clear();*/</span>
<a name="l00314"></a>00314 
<a name="l00315"></a>00315             <span class="keywordflow">if</span>(tempExtractedPtsInWorldCoords.size() != 0)
<a name="l00316"></a>00316             {
<a name="l00317"></a>00317                 deltaT = (float)(1.0/tempExtractedPtsInWorldCoords.size());
<a name="l00318"></a>00318             }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> xIndex =0; xIndex&lt;tempExtractedPtsInWorldCoords.size();xIndex++)
<a name="l00321"></a>00321            {
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 
<a name="l00324"></a>00324                <a class="code" href="class_three_d_stats_generation.html#aec1a14f2f6dd1e80c7d8f4dbbb331778">m_quadFitX</a>-&gt;<a class="code" href="class_quad_curve_fit_utility.html#a2092d5dc567388ed0740e7f05bb7f5a1">addPoints</a>(cv::Point2f(paramT,tempExtractedPtsInWorldCoords[xIndex].x));
<a name="l00325"></a>00325 
<a name="l00326"></a>00326                <span class="comment">/*splineX.addPoint(paramT,tempExtractedPtsInWorldCoords[xIndex].x);*/</span>
<a name="l00327"></a>00327 
<a name="l00328"></a>00328                paramT += deltaT;
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 
<a name="l00331"></a>00331            }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333            <span class="comment">/*</span>
<a name="l00334"></a>00334 <span class="comment">           //A spline which turns into a parabola at the boundaries.</span>
<a name="l00335"></a>00335 <span class="comment"></span>
<a name="l00336"></a>00336 <span class="comment">           //This BC does not need extra parameters, so just the condition is</span>
<a name="l00337"></a>00337 <span class="comment">           //enough.</span>
<a name="l00338"></a>00338 <span class="comment">           splineX.setLowBC(magnet::math::Spline::PARABOLIC_RUNOUT_BC);</span>
<a name="l00339"></a>00339 <span class="comment">           splineX.setHighBC(magnet::math::Spline::PARABOLIC_RUNOUT_BC);</span>
<a name="l00340"></a>00340 <span class="comment"></span>
<a name="l00341"></a>00341 <span class="comment">           for (double x = (-0.2); x &lt;= 1.2001; x += 0.005)</span>
<a name="l00342"></a>00342 <span class="comment">           {</span>
<a name="l00343"></a>00343 <span class="comment">              float temp = splineX(x);</span>
<a name="l00344"></a>00344 <span class="comment"></span>
<a name="l00345"></a>00345 <span class="comment">             _bufferX.push_back(temp);</span>
<a name="l00346"></a>00346 <span class="comment">           }</span>
<a name="l00347"></a>00347 <span class="comment">            */</span>
<a name="l00348"></a>00348 
<a name="l00349"></a>00349            <a class="code" href="class_three_d_stats_generation.html#aec1a14f2f6dd1e80c7d8f4dbbb331778">m_quadFitX</a>-&gt;<a class="code" href="class_quad_curve_fit_utility.html#a3b68dabeeb40c2f80deaefda010324c5">processParametricPoints3D</a>(_bufferX,coeffX);
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 
<a name="l00352"></a>00352            paramT = 0.0;
<a name="l00353"></a>00353            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> yIndex =0; yIndex&lt;tempExtractedPtsInWorldCoords.size();yIndex++)
<a name="l00354"></a>00354            {
<a name="l00355"></a>00355 
<a name="l00356"></a>00356 
<a name="l00357"></a>00357                <a class="code" href="class_three_d_stats_generation.html#ab9fbf89612df9a66ddc2774b50aa001c">m_quadFitY</a>-&gt;<a class="code" href="class_quad_curve_fit_utility.html#a2092d5dc567388ed0740e7f05bb7f5a1">addPoints</a>(cv::Point2f(paramT,tempExtractedPtsInWorldCoords[yIndex].y));
<a name="l00358"></a>00358 
<a name="l00359"></a>00359                <span class="comment">/*splineY.addPoint(paramT,tempExtractedPtsInWorldCoords[yIndex].y);*/</span>
<a name="l00360"></a>00360 
<a name="l00361"></a>00361                paramT += deltaT;
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 
<a name="l00364"></a>00364            }
<a name="l00365"></a>00365 
<a name="l00366"></a>00366            <span class="comment">/*</span>
<a name="l00367"></a>00367 <span class="comment">           //A spline which turns into a parabola at the boundaries.</span>
<a name="l00368"></a>00368 <span class="comment"></span>
<a name="l00369"></a>00369 <span class="comment">           //This BC does not need extra parameters, so just the condition is</span>
<a name="l00370"></a>00370 <span class="comment">           //enough.</span>
<a name="l00371"></a>00371 <span class="comment">           splineY.setLowBC(magnet::math::Spline::PARABOLIC_RUNOUT_BC);</span>
<a name="l00372"></a>00372 <span class="comment">           splineY.setHighBC(magnet::math::Spline::PARABOLIC_RUNOUT_BC);</span>
<a name="l00373"></a>00373 <span class="comment"></span>
<a name="l00374"></a>00374 <span class="comment">           for (double x = (-0.2); x &lt;= 1.2001; x += 0.005)</span>
<a name="l00375"></a>00375 <span class="comment">           {</span>
<a name="l00376"></a>00376 <span class="comment">              float temp = splineY(x);</span>
<a name="l00377"></a>00377 <span class="comment"></span>
<a name="l00378"></a>00378 <span class="comment">             _bufferY.push_back(temp);</span>
<a name="l00379"></a>00379 <span class="comment">           }</span>
<a name="l00380"></a>00380 <span class="comment">           */</span>
<a name="l00381"></a>00381 
<a name="l00382"></a>00382            <a class="code" href="class_three_d_stats_generation.html#ab9fbf89612df9a66ddc2774b50aa001c">m_quadFitY</a>-&gt;<a class="code" href="class_quad_curve_fit_utility.html#a3b68dabeeb40c2f80deaefda010324c5">processParametricPoints3D</a>(_bufferY,coeffY);
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 
<a name="l00385"></a>00385            paramT = 0.0;
<a name="l00386"></a>00386            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> zIndex =0; zIndex&lt;tempExtractedPtsInWorldCoords.size();zIndex++)
<a name="l00387"></a>00387            {
<a name="l00388"></a>00388 
<a name="l00389"></a>00389 
<a name="l00390"></a>00390                <a class="code" href="class_three_d_stats_generation.html#abba9aa2ca7fa59988d880354f24789eb">m_quadFitZ</a>-&gt;<a class="code" href="class_quad_curve_fit_utility.html#a2092d5dc567388ed0740e7f05bb7f5a1">addPoints</a>(cv::Point2f(paramT,tempExtractedPtsInWorldCoords[zIndex].z));
<a name="l00391"></a>00391 
<a name="l00392"></a>00392                <span class="comment">/*splineZ.addPoint(paramT,tempExtractedPtsInWorldCoords[zIndex].z);*/</span>
<a name="l00393"></a>00393 
<a name="l00394"></a>00394                paramT += deltaT;
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 
<a name="l00397"></a>00397            }
<a name="l00398"></a>00398 
<a name="l00399"></a>00399            <span class="comment">/*</span>
<a name="l00400"></a>00400 <span class="comment">           //A spline which turns into a parabola at the boundaries.</span>
<a name="l00401"></a>00401 <span class="comment"></span>
<a name="l00402"></a>00402 <span class="comment">           //This BC does not need extra parameters, so just the condition is</span>
<a name="l00403"></a>00403 <span class="comment">           //enough.</span>
<a name="l00404"></a>00404 <span class="comment">           splineZ.setLowBC(magnet::math::Spline::PARABOLIC_RUNOUT_BC);</span>
<a name="l00405"></a>00405 <span class="comment">           splineZ.setHighBC(magnet::math::Spline::PARABOLIC_RUNOUT_BC);</span>
<a name="l00406"></a>00406 <span class="comment"></span>
<a name="l00407"></a>00407 <span class="comment">           for (double x = (-0.2); x &lt;= 1.2001; x += 0.005)</span>
<a name="l00408"></a>00408 <span class="comment">           {</span>
<a name="l00409"></a>00409 <span class="comment">              float temp = splineZ(x);</span>
<a name="l00410"></a>00410 <span class="comment"></span>
<a name="l00411"></a>00411 <span class="comment">             _bufferZ.push_back(temp);</span>
<a name="l00412"></a>00412 <span class="comment">           }</span>
<a name="l00413"></a>00413 <span class="comment">           */</span>
<a name="l00414"></a>00414 
<a name="l00415"></a>00415            <a class="code" href="class_three_d_stats_generation.html#abba9aa2ca7fa59988d880354f24789eb">m_quadFitZ</a>-&gt;<a class="code" href="class_quad_curve_fit_utility.html#a3b68dabeeb40c2f80deaefda010324c5">processParametricPoints3D</a>(_bufferZ,coeffZ);
<a name="l00416"></a>00416 
<a name="l00417"></a>00417 
<a name="l00418"></a>00418            <span class="keywordflow">if</span>((_bufferX.size() != 0) &amp;&amp; (_bufferY.size() != 0) &amp;&amp; (_bufferZ.size() != 0)) <span class="comment">// checking if we have data in the buffers..need to place additional check to see if all the sizes are equal</span>
<a name="l00419"></a>00419            {
<a name="l00420"></a>00420                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> fillIndex =0; fillIndex&lt;_bufferX.size();fillIndex++)
<a name="l00421"></a>00421                {
<a name="l00422"></a>00422 
<a name="l00423"></a>00423 
<a name="l00424"></a>00424                    std::cout&lt;&lt;<span class="stringliteral">&quot;BufferX:&quot;</span>&lt;&lt;_bufferX[fillIndex]&lt;&lt;<span class="stringliteral">&quot;BufferY:&quot;</span>&lt;&lt;_bufferY[fillIndex]&lt;&lt;<span class="stringliteral">&quot;BufferZ:&quot;</span>&lt;&lt;_bufferZ[fillIndex]&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00425"></a>00425 
<a name="l00426"></a>00426                    <span class="comment">// our grand data (for this rally for this extracted chunk) is pushed in</span>
<a name="l00427"></a>00427                    o_interpPlayerBallPts[i].push_back(cv::Point3f(_bufferX[fillIndex],_bufferY[fillIndex],_bufferZ[fillIndex]));
<a name="l00428"></a>00428 
<a name="l00429"></a>00429 
<a name="l00430"></a>00430                }
<a name="l00431"></a>00431            }
<a name="l00432"></a>00432 
<a name="l00433"></a>00433            <span class="comment">// push speed data for current rally&apos;s current extracted stream</span>
<a name="l00434"></a>00434            <span class="comment">// made it single dimensional as we do not need rally specific impact points</span>
<a name="l00435"></a>00435            <span class="comment">// so its a straight 1D vector corresponding to impactpoints3d vector</span>
<a name="l00436"></a>00436            <span class="comment">// filled thru the calculateimpactptin3dfromindices function</span>
<a name="l00437"></a>00437 
<a name="l00438"></a>00438            <span class="comment">// this check will filter other coeeficients which are actually not at the depth index,</span>
<a name="l00439"></a>00439            <span class="comment">// because, apart from depth index, we also pass in</span>
<a name="l00440"></a>00440            <span class="comment">// parts of array from o to depthindex or from deothindex to next depthindex</span>
<a name="l00441"></a>00441            <span class="comment">// where the intermediate depth index wud push 2 different speeds</span>
<a name="l00442"></a>00442            <span class="comment">// for the same point</span>
<a name="l00443"></a>00443            <span class="comment">// so we should avoid pushing speed at those times</span>
<a name="l00444"></a>00444 
<a name="l00445"></a>00445            tempCoeffSquared = pow(coeffX,2) + pow(coeffY,2) + pow(coeffZ,2);
<a name="l00446"></a>00446            <span class="keywordflow">if</span>(tempCoeffSquared &lt;= 0.0)
<a name="l00447"></a>00447            {
<a name="l00448"></a>00448                tempVelocity = 0.0;
<a name="l00449"></a>00449            }
<a name="l00450"></a>00450            <span class="keywordflow">else</span>
<a name="l00451"></a>00451            {
<a name="l00452"></a>00452                tempVelocity = sqrt(tempCoeffSquared);
<a name="l00453"></a>00453            }
<a name="l00454"></a>00454 
<a name="l00455"></a>00455            <span class="comment">//std::cout&lt;&lt;&quot;TempVelocity:&quot;&lt;&lt;tempVelocity&lt;&lt;&quot;mpersec\n&quot;;</span>
<a name="l00456"></a>00456 
<a name="l00457"></a>00457            <span class="keywordflow">if</span>(tempLastIndex == _playerDeepestPtIndices[i][j])
<a name="l00458"></a>00458            {
<a name="l00459"></a>00459                 o_speedData.push_back(tempVelocity);
<a name="l00460"></a>00460            }
<a name="l00461"></a>00461 
<a name="l00462"></a>00462            <span class="keywordflow">if</span>(tempLastIndex == (_inputPlayerBallPts[i].size() - 1))
<a name="l00463"></a>00463            {
<a name="l00464"></a>00464                <span class="comment">// we break out of the for loop</span>
<a name="l00465"></a>00465                <span class="comment">// because if lastindex has a value representing the last element of the</span>
<a name="l00466"></a>00466                <span class="comment">// rally point, there is nothing more to extract</span>
<a name="l00467"></a>00467                <span class="comment">// this last point could have been reached in many ways,</span>
<a name="l00468"></a>00468                <span class="comment">// lik when there is no impact data, 0 to last is extracted</span>
<a name="l00469"></a>00469                <span class="comment">// or if legitemately we have come until the last index like</span>
<a name="l00470"></a>00470                <span class="comment">// 0 ---- impactindex1 ------ impactindex2 ----- lastindex</span>
<a name="l00471"></a>00471                <span class="comment">// or 0 -----impactindex1-----impactindex2(which itself might be referring to the lastindex,</span>
<a name="l00472"></a>00472                <span class="comment">// of the rally, so we should itself break out instead of extracting forward)</span>
<a name="l00473"></a>00473                <span class="keywordflow">break</span>;
<a name="l00474"></a>00474            }
<a name="l00475"></a>00475 
<a name="l00476"></a>00476         }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478     }
<a name="l00479"></a>00479 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_three_d_stats_generation_a152c5a60c2297fbffa8dc13b7d9d7848_cgraph.png" border="0" usemap="#class_three_d_stats_generation_a152c5a60c2297fbffa8dc13b7d9d7848_cgraph_map" alt=""></div>
<map name="class_three_d_stats_generation_a152c5a60c2297fbffa8dc13b7d9d7848_cgraph_map" id="class_three_d_stats_generation_a152c5a60c2297fbffa8dc13b7d9d7848_cgraph">
<area shape="rect" id="node3" href="class_quad_curve_fit_utility.html#a2092d5dc567388ed0740e7f05bb7f5a1" title="QuadCurveFitUtility::addPoints" alt="" coords="584,5,813,35"/><area shape="rect" id="node5" href="_three_d_stats_generation_8cpp.html#a6f72b23d2dc763628cb892762eafc3a2" title="compare3FOnX" alt="" coords="636,59,761,88"/><area shape="rect" id="node7" href="class_three_d_stats_generation.html#a14b5f137135e666bf5b0a34862e2a3da" title="ThreeDStatsGeneration::convertToWorldFromScreen" alt="" coords="511,112,887,141"/><area shape="rect" id="node9" href="class_quad_curve_fit_utility.html#a3b68dabeeb40c2f80deaefda010324c5" title="QuadCurveFitUtility::processParametricPoints3D" alt="" coords="524,165,873,195"/><area shape="rect" id="node11" href="class_quad_curve_fit_utility.html#aadaa5f2c60bef0f7ed35a86dbf0432f0" title="QuadCurveFitUtility::getDifferential" alt="" coords="937,139,1199,168"/><area shape="rect" id="node20" href="class_quad_curve_fit_utility.html#acc14dcbc0fec57cde8f5947a14a30649" title="QuadCurveFitUtility::getPredictedY" alt="" coords="937,192,1199,221"/><area shape="rect" id="node13" href="class_quad_curve_fit_utility.html#af7cc69c6eaaf451f480e0a0fcfad565d" title="QuadCurveFitUtility::getATerm" alt="" coords="1251,192,1477,221"/><area shape="rect" id="node17" href="class_quad_curve_fit_utility.html#ab7afdd357301fbfa58f4d353d0584739" title="QuadCurveFitUtility::getBTerm" alt="" coords="1249,139,1479,168"/><area shape="rect" id="node15" href="class_quad_curve_fit_utility.html#a1d5719f0e64da0d0a3a87f45ddc819e0" title="QuadCurveFitUtility::getSxy" alt="" coords="1528,192,1739,221"/><area shape="rect" id="node24" href="class_quad_curve_fit_utility.html#a135867ae31e25ec7acc36160579cb046" title="QuadCurveFitUtility::getCTerm" alt="" coords="1249,245,1479,275"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_three_d_stats_generation_a152c5a60c2297fbffa8dc13b7d9d7848_icgraph.png" border="0" usemap="#class_three_d_stats_generation_a152c5a60c2297fbffa8dc13b7d9d7848_icgraph_map" alt=""></div>
<map name="class_three_d_stats_generation_a152c5a60c2297fbffa8dc13b7d9d7848_icgraph_map" id="class_three_d_stats_generation_a152c5a60c2297fbffa8dc13b7d9d7848_icgraph">
<area shape="rect" id="node3" href="class_player_data.html#a43dfc103a6b01cb7ed156201700973e7" title="PlayerData::getPlayerInterpolatedBallPtsAll" alt="" coords="509,5,829,35"/><area shape="rect" id="node13" href="class_player_data.html#ac2d538334ac426b8b35dd5d46296d80a" title="PlayerData::getPlayerSpeedData" alt="" coords="544,59,795,88"/><area shape="rect" id="node19" href="class_player_data.html#a9acc525bfe75a976266ba83f5bc4a5da" title="PlayerData::getRevolutionsPerMinute" alt="" coords="529,112,809,141"/><area shape="rect" id="node5" href="class_stats_visualization.html#a57cd69736123c4e0e61d8e09df61ac9c" title="StatsVisualization::buildTrajectory" alt="" coords="879,5,1129,35"/><area shape="rect" id="node7" href="class_stats_visualization.html#abf72212e10e0facce24b8d7c2f53b08e" title="StatsVisualization::drawEntireScene" alt="" coords="1179,32,1445,61"/><area shape="rect" id="node11" href="class_stats_visualization.html#ad2d64d2943e09af7341fd4ae6e15ee07" title="StatsVisualization::writeFile" alt="" coords="1208,85,1416,115"/><area shape="rect" id="node9" href="class_stats_visualization.html#a5b3fcea08e858ae1516a0c7a62ec0c1c" title="this is the main gl drawing routine which is called whenever the window needs to..." alt="" coords="1495,32,1697,61"/><area shape="rect" id="node15" href="class_stats_visualization.html#af6f059400248796a411492c73b8b780f" title="StatsVisualization::buildSpeedMap" alt="" coords="879,59,1129,88"/><area shape="rect" id="node21" href="class_stats_visualization.html#a4a890c9e9875db2cd2a853455ffdf07c" title="StatsVisualization::buildRPMData" alt="" coords="881,112,1127,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a482104e2d115cb7db0911553595833f2"></a><!-- doxytag: member="ThreeDStatsGeneration::generatePitchDensityGraphData" ref="a482104e2d115cb7db0911553595833f2" args="(cv::Point &amp;_userDefinedTopXY, int _userDefinedWidth, int _userDefinedHeight, int _gridResolution, std::vector&lt; cv::Point &gt; &amp;_playerImpactPtsAllRallies, std::vector&lt; cv::Point3f &gt; &amp;o_verticesSetOfCubeBarsGraph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreeDStatsGeneration::generatePitchDensityGraphData </td>
          <td>(</td>
          <td class="paramtype">cv::Point &amp;&nbsp;</td>
          <td class="paramname"> <em>_userDefinedTopXY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_userDefinedWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_userDefinedHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_gridResolution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>_playerImpactPtsAllRallies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point3f &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>o_verticesSetOfCubeBarsGraph</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8cpp_source.html#l00023">23</a> of file <a class="el" href="_three_d_stats_generation_8cpp_source.html">ThreeDStatsGeneration.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00027"></a>00027 {
<a name="l00028"></a>00028     <span class="comment">//for each point in the input array</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030     <span class="comment">// each cell width = inputwidth/gridresolution</span>
<a name="l00031"></a>00031     <span class="comment">// each cell height = inputheight/gridresolution</span>
<a name="l00032"></a>00032     <span class="comment">// hashx = floor((point.x - _userDefinedTopXY.x)/each cell width)</span>
<a name="l00033"></a>00033     <span class="comment">// hashy = floor((point.y - _userDefinedTopXY.y)/each cell height)</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035     <span class="comment">// 1D hash value is hashx + hashy * gridresolution</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037     <span class="comment">// push the point as vec[hashvalue].push_back(point)</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039     std::vector&lt;std::vector&lt;cv::Point&gt; &gt; hashMappedData;
<a name="l00040"></a>00040 
<a name="l00041"></a>00041     <span class="comment">// remember to mention these scale factors</span>
<a name="l00042"></a>00042     <span class="keywordtype">float</span> _scaleFactor = 10.0;
<a name="l00043"></a>00043     <span class="keywordtype">int</span> _heightUpScaleFactor = 1.0;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 
<a name="l00046"></a>00046     <span class="keywordtype">float</span> _scaledWidth = ((float)_userDefinedWidth/_scaleFactor);
<a name="l00047"></a>00047     <span class="keywordtype">float</span> _scaledHeight = ((float)_userDefinedHeight/_scaleFactor);
<a name="l00048"></a>00048 
<a name="l00049"></a>00049     <span class="comment">// we scale down by 10 as pixel coords will be too large</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 
<a name="l00052"></a>00052     <span class="keywordtype">float</span> _scaledTopX = ((float)_userDefinedTopXY.x/_scaleFactor);
<a name="l00053"></a>00053     <span class="keywordtype">float</span> _scaledTopY = ((float)_userDefinedTopXY.y/_scaleFactor);
<a name="l00054"></a>00054 
<a name="l00055"></a>00055     <span class="keywordtype">float</span> _individualCellWidth = _scaledWidth/(float)_gridResolution; <span class="comment">// typecast fully if problem arises</span>
<a name="l00056"></a>00056     <span class="keywordtype">float</span> _individualCellHeight = _scaledHeight/(float)_gridResolution;
<a name="l00057"></a>00057 
<a name="l00058"></a>00058     <span class="keywordtype">int</span> hashIncrement = 0;
<a name="l00059"></a>00059 
<a name="l00060"></a>00060     hashMappedData.resize(_gridResolution * _gridResolution);
<a name="l00061"></a>00061 
<a name="l00062"></a>00062     hashMappedData.clear();
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="comment">//    // allocate enough data for hashmap</span>
<a name="l00065"></a>00065     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;_gridResolution * _gridResolution;i++)
<a name="l00066"></a>00066     {
<a name="l00067"></a>00067         hashMappedData.push_back(std::vector&lt;cv::Point&gt; ());
<a name="l00068"></a>00068 
<a name="l00069"></a>00069         hashMappedData[i].push_back(cv::Point(0,0));
<a name="l00070"></a>00070     }
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 
<a name="l00074"></a>00074     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;_playerImpactPtsAllRallies.size();i++)
<a name="l00075"></a>00075     {
<a name="l00076"></a>00076         <span class="keywordtype">int</span> hashX = floor((((<span class="keywordtype">float</span>)_playerImpactPtsAllRallies[i].x/_scaleFactor) - _scaledTopX)/_individualCellWidth);
<a name="l00077"></a>00077         <span class="keywordtype">int</span> hashY = floor((((<span class="keywordtype">float</span>)_playerImpactPtsAllRallies[i].y/_scaleFactor) - _scaledTopY)/_individualCellHeight);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079         <span class="keywordtype">int</span> hashValue = (hashX + (hashY * _gridResolution));
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         hashMappedData[hashValue].push_back(_playerImpactPtsAllRallies[i]);
<a name="l00082"></a>00082     }
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 
<a name="l00085"></a>00085     <span class="comment">// and then make the grid flow from -w to +w</span>
<a name="l00086"></a>00086     <span class="comment">// and -z to +z with grid origin at center</span>
<a name="l00087"></a>00087     <span class="comment">// so subtract w/2 and h/2 respectively</span>
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="comment">//float _scaledTopXTranslated = _scaledTopX - (_scaledWidth/2);</span>
<a name="l00090"></a>00090     <span class="comment">//float _scaledTopYTranslated = _scaledTopY - (_scaledHeight/2);</span>
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <span class="keywordtype">float</span> _scaledTopXTranslated =  -(_scaledWidth/2);
<a name="l00094"></a>00094     <span class="keywordtype">float</span> _scaledTopYTranslated =  -(_scaledHeight/2);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="comment">//    float tempBottomX4 = 0.0, tempBottomZ4 = 0.0, tempBottomY4 = 0.0 , tempBottomX3 = 0.0, tempBottomZ3 = 0.0,tempBottomY3 = 0.0;</span>
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="comment">//    float tempBottomX2 = 0.0, tempBottomZ2 = 0.0,tempBottomY2 = 0.0,tempBottomX1 = 0.0,tempBottomZ1 = 0.0,tempBottomY1 = 0.0;</span>
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="comment">//    float tempTopX4 = 0.0,tempTopZ4 = 0.0,tempTopY4 = 0.0,tempTopX3 = 0.0,tempTopZ3 = 0.0,tempTopY3 = 0.0,tempTopX2 = 0.0,tempTopZ2 = 0.0;</span>
<a name="l00101"></a>00101 <span class="comment">//    float tempTopY2 = 0.0,tempTopX1 = 0.0,tempTopZ1 = 0.0,tempTopY1 = 0.0;</span>
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 
<a name="l00104"></a>00104     <span class="comment">//for(float i=_scaledTopYTranslated;i&lt;(_scaledTopYTranslated + _scaledHeight);i=i+_individualCellHeight)</span>
<a name="l00105"></a>00105     <span class="comment">//{</span>
<a name="l00106"></a>00106       <span class="comment">//  for(float j=_scaledTopXTranslated;j&lt;(_scaledTopXTranslated + _scaledWidth);j=j+_individualCellWidth)</span>
<a name="l00107"></a>00107         <span class="comment">//{</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109     <span class="keywordtype">float</span> xPos = _scaledTopXTranslated;
<a name="l00110"></a>00110     <span class="keywordtype">float</span> zPos = _scaledTopYTranslated;
<a name="l00111"></a>00111 
<a name="l00112"></a>00112             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0;i&lt;_gridResolution;i++)
<a name="l00113"></a>00113             {
<a name="l00114"></a>00114                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;_gridResolution;j++)
<a name="l00115"></a>00115                 {
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 
<a name="l00118"></a>00118                     <span class="keywordflow">if</span>((hashMappedData[hashIncrement].size() - 1) == 0)
<a name="l00119"></a>00119                     {
<a name="l00120"></a>00120                         <span class="comment">// no need to push the data as this quad should not be rendered</span>
<a name="l00121"></a>00121                         <span class="comment">// with 0 height</span>
<a name="l00122"></a>00122                         hashIncrement++;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124                         xPos = xPos + _individualCellWidth;
<a name="l00125"></a>00125                         <span class="keywordflow">continue</span>;
<a name="l00126"></a>00126 
<a name="l00127"></a>00127                     }
<a name="l00128"></a>00128              <span class="keywordtype">float</span> tempBottomX4 = xPos;
<a name="l00129"></a>00129              <span class="keywordtype">float</span> tempBottomZ4 = zPos;
<a name="l00130"></a>00130              <span class="keywordtype">float</span> tempBottomY4 = 0.0;
<a name="l00131"></a>00131 
<a name="l00132"></a>00132              <span class="keywordtype">float</span> tempBottomX3 = xPos + _individualCellWidth;
<a name="l00133"></a>00133              <span class="keywordtype">float</span> tempBottomZ3 = zPos;
<a name="l00134"></a>00134              <span class="keywordtype">float</span> tempBottomY3 = 0.0;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136              <span class="keywordtype">float</span> tempBottomX2 = xPos + _individualCellWidth;
<a name="l00137"></a>00137              <span class="keywordtype">float</span> tempBottomZ2 = zPos + _individualCellHeight;
<a name="l00138"></a>00138              <span class="keywordtype">float</span> tempBottomY2 = 0.0;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140              <span class="keywordtype">float</span> tempBottomX1 = xPos;
<a name="l00141"></a>00141              <span class="keywordtype">float</span> tempBottomZ1 = zPos + _individualCellHeight;
<a name="l00142"></a>00142              <span class="keywordtype">float</span> tempBottomY1 = 0.0;
<a name="l00143"></a>00143 
<a name="l00144"></a>00144              <span class="keywordtype">float</span> tempTopX4 = tempBottomX4;
<a name="l00145"></a>00145              <span class="keywordtype">float</span> tempTopZ4 = tempBottomZ4;
<a name="l00146"></a>00146              <span class="keywordtype">float</span> tempTopY4 = (hashMappedData[hashIncrement].size() - 1) * _heightUpScaleFactor;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148              <span class="keywordtype">float</span> tempTopX3 = tempBottomX3;
<a name="l00149"></a>00149              <span class="keywordtype">float</span> tempTopZ3 = tempBottomZ3;
<a name="l00150"></a>00150              <span class="keywordtype">float</span> tempTopY3 = (hashMappedData[hashIncrement].size() - 1) * _heightUpScaleFactor;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152              <span class="keywordtype">float</span> tempTopX2 = tempBottomX2;
<a name="l00153"></a>00153              <span class="keywordtype">float</span> tempTopZ2 = tempBottomZ2;
<a name="l00154"></a>00154              <span class="keywordtype">float</span> tempTopY2 = (hashMappedData[hashIncrement].size() - 1) * _heightUpScaleFactor;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156              <span class="keywordtype">float</span> tempTopX1 = tempBottomX1;
<a name="l00157"></a>00157              <span class="keywordtype">float</span> tempTopZ1 = tempBottomZ1;
<a name="l00158"></a>00158              <span class="keywordtype">float</span> tempTopY1 = (hashMappedData[hashIncrement].size() - 1) * _heightUpScaleFactor;
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 
<a name="l00161"></a>00161                      <span class="comment">//std::cout&lt;&lt;&quot;tempTopX1:&quot;&lt;&lt;tempTop</span>
<a name="l00162"></a>00162 
<a name="l00163"></a>00163             <span class="keywordflow">if</span>((hashMappedData[hashIncrement].size() - 1) != 0)
<a name="l00164"></a>00164             {
<a name="l00165"></a>00165                 std::cout&lt;&lt;<span class="stringliteral">&quot;hashmap Y:&quot;</span>&lt;&lt;(hashMappedData[hashIncrement].size() - 1)&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00166"></a>00166             }
<a name="l00167"></a>00167 
<a name="l00168"></a>00168             <span class="comment">// top first - clockwise</span>
<a name="l00169"></a>00169             o_verticesSetOfCubeBarsGraph.push_back(cv::Point3f(tempTopX1,tempTopY1,tempTopZ1));
<a name="l00170"></a>00170             o_verticesSetOfCubeBarsGraph.push_back(cv::Point3f(tempTopX2,tempTopY2,tempTopZ2));
<a name="l00171"></a>00171             o_verticesSetOfCubeBarsGraph.push_back(cv::Point3f(tempTopX3,tempTopY3,tempTopZ3));
<a name="l00172"></a>00172             o_verticesSetOfCubeBarsGraph.push_back(cv::Point3f(tempTopX4,tempTopY4,tempTopZ4));
<a name="l00173"></a>00173 
<a name="l00174"></a>00174             <span class="comment">// bottom next - clockwise</span>
<a name="l00175"></a>00175             o_verticesSetOfCubeBarsGraph.push_back(cv::Point3f(tempBottomX1,tempBottomY1,tempBottomZ1));
<a name="l00176"></a>00176             o_verticesSetOfCubeBarsGraph.push_back(cv::Point3f(tempBottomX2,tempBottomY2,tempBottomZ2));
<a name="l00177"></a>00177             o_verticesSetOfCubeBarsGraph.push_back(cv::Point3f(tempBottomX3,tempBottomY3,tempBottomZ3));
<a name="l00178"></a>00178             o_verticesSetOfCubeBarsGraph.push_back(cv::Point3f(tempBottomX4,tempBottomY4,tempBottomZ4));
<a name="l00179"></a>00179 
<a name="l00180"></a>00180             <span class="comment">// incerement the hash index as we move on to the next row</span>
<a name="l00181"></a>00181             hashIncrement++;
<a name="l00182"></a>00182 
<a name="l00183"></a>00183             xPos = xPos + _individualCellWidth;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         }
<a name="l00186"></a>00186 
<a name="l00187"></a>00187                 xPos = _scaledTopXTranslated;
<a name="l00188"></a>00188                 zPos = zPos + _individualCellHeight;
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 
<a name="l00191"></a>00191     }
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_three_d_stats_generation_a482104e2d115cb7db0911553595833f2_icgraph.png" border="0" usemap="#class_three_d_stats_generation_a482104e2d115cb7db0911553595833f2_icgraph_map" alt=""></div>
<map name="class_three_d_stats_generation_a482104e2d115cb7db0911553595833f2_icgraph_map" id="class_three_d_stats_generation_a482104e2d115cb7db0911553595833f2_icgraph">
<area shape="rect" id="node3" href="class_player_data.html#a42518d199dbdbd205461373aede1278e" title="PlayerData::getBarGraphVertices" alt="" coords="472,32,723,61"/><area shape="rect" id="node5" href="class_stats_visualization.html#aff7ca33b0e08c92850caa015618b5217" title="StatsVisualization::buildPointGraphBars" alt="" coords="772,32,1057,61"/><area shape="rect" id="node7" href="class_stats_visualization.html#abf72212e10e0facce24b8d7c2f53b08e" title="StatsVisualization::drawEntireScene" alt="" coords="1107,5,1373,35"/><area shape="rect" id="node11" href="class_stats_visualization.html#ad2d64d2943e09af7341fd4ae6e15ee07" title="StatsVisualization::writeFile" alt="" coords="1136,59,1344,88"/><area shape="rect" id="node9" href="class_stats_visualization.html#a5b3fcea08e858ae1516a0c7a62ec0c1c" title="this is the main gl drawing routine which is called whenever the window needs to..." alt="" coords="1423,5,1625,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aec1a14f2f6dd1e80c7d8f4dbbb331778"></a><!-- doxytag: member="ThreeDStatsGeneration::m_quadFitX" ref="aec1a14f2f6dd1e80c7d8f4dbbb331778" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a>* <a class="el" href="class_three_d_stats_generation.html#aec1a14f2f6dd1e80c7d8f4dbbb331778">ThreeDStatsGeneration::m_quadFitX</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">40</a> of file <a class="el" href="_three_d_stats_generation_8h_source.html">ThreeDStatsGeneration.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab9fbf89612df9a66ddc2774b50aa001c"></a><!-- doxytag: member="ThreeDStatsGeneration::m_quadFitY" ref="ab9fbf89612df9a66ddc2774b50aa001c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a> * <a class="el" href="class_three_d_stats_generation.html#ab9fbf89612df9a66ddc2774b50aa001c">ThreeDStatsGeneration::m_quadFitY</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">40</a> of file <a class="el" href="_three_d_stats_generation_8h_source.html">ThreeDStatsGeneration.h</a>.</p>

</div>
</div>
<a class="anchor" id="abba9aa2ca7fa59988d880354f24789eb"></a><!-- doxytag: member="ThreeDStatsGeneration::m_quadFitZ" ref="abba9aa2ca7fa59988d880354f24789eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quad_curve_fit_utility.html">QuadCurveFitUtility</a> * <a class="el" href="class_three_d_stats_generation.html#abba9aa2ca7fa59988d880354f24789eb">ThreeDStatsGeneration::m_quadFitZ</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_three_d_stats_generation_8h_source.html#l00040">40</a> of file <a class="el" href="_three_d_stats_generation_8h_source.html">ThreeDStatsGeneration.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_three_d_stats_generation_8h_source.html">ThreeDStatsGeneration.h</a></li>
<li><a class="el" href="_three_d_stats_generation_8cpp_source.html">ThreeDStatsGeneration.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 16 Aug 2013 for KINECT STATS GENERATOR FOR SPORTS VISUALISATION by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
